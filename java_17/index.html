<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <title>极简Java十七：SpringMvc框架 - 及时当勉励，岁月不待人！@iNuo</title>
    
    <meta name="description" content="第一章  本章内容  三层架构和MVC模型 SpringMVC的入门案例 请求参数的绑定 常用的注解   1.1 三层架构和MVC模型 三层架构   咱们开发服务器端程序，一般都基于两种形式，一种C/S架构程序，一种B/S架构程序
  使用Java语言基本上都是开发B/S架构的程序，B/S架构又分成了三层架构
  三层架构
表现层：WEB层，用来和客户端进行数据交互的。表现层一般会采用MVC的设计模型
业务层：SERVICE层，处理公司具体的业务逻辑的
持久层：DAO层，用来操作数据库的
  MVC模型 MVC全名是Model View Controller 模型视图控制器，每个部分各司其职。
  Model：数据模型，JavaBean的类，用来进行数据封装。
  View：指JSP、HTML用来展示数据给用户
  Controller：用来接收用户的请求，整个流程的控制器。用来进行数据校验等。
  1.2 SpringMVC的入门案例 SpringMVC概述   是一种基于Java实现的MVC设计模型的请求驱动类型的轻量级WEB框架。
  Spring MVC属于SpringFrameWork的后续产品，已经融合在Spring Web Flow里面，Spring 框架提供了构建 Web 应用程序的全功能 MVC 模块。
  使用 Spring 可插入的 MVC 架构，从而在使用Spring进行WEB开发时，可以选择使用Spring的SpringMVC框架或集成其他MVC开发框架，如Struts1(现在一般不用)，Struts2等。
  SpringMVC在三层架构中的位置是 表现层框架">
    <meta name="author" content="">
    
    <link href="https://xshi000.github.io/an-old-hope.min.css" rel="stylesheet">
    <link href="https://xshi000.github.io/style.css" rel="stylesheet">
    <link href="https://xshi000.github.io/custom.css" rel="stylesheet">
    
    <link rel="apple-touch-icon" href="https://xshi000.github.io/apple-touch-icon.png">
    <link rel="icon" href="https://xshi000.github.io/favicon.ico">
    <meta name="generator" content="Hugo 0.65.3" />
    
    
    
    <script>
      function setTheme() {
        const time = new Date();

        const prev = localStorage.getItem('date');
        const date = String(time.getMonth() + 1) + '.' + String(time.getDate());

        const now = time.getTime();
        let sunrise;
        let sunset;

        function setBodyClass() {
          if (now > sunrise && now < sunset) return;
          document.body.classList.add('dark');
        }

        if (date !== prev) {
          fetch('https://api.ipgeolocation.io/astronomy?apiKey=5ed37d85103e4defa5df4c5298ed5215')
            .then(res => res.json())
            .then(data => {
              sunrise = data.sunrise.split(':').map(Number);
              sunset = data.sunset.split(':').map(Number);
            })
            .catch(() => {
              sunrise = [7, 0];
              sunset = [19, 0];
            })
            .finally(() => {
              sunrise = time.setHours(sunrise[0], sunrise[1], 0);
              sunset = time.setHours(sunset[0], sunset[1], 0);
              setBodyClass();
              localStorage.setItem('sunrise', sunrise);
              localStorage.setItem('sunset', sunset);
            });
          localStorage.setItem('date', date);
        } else {
          sunrise = Number(localStorage.getItem('sunrise'));
          sunset = Number(localStorage.getItem('sunset'));
          setBodyClass();
        }
      }
    </script>
  </head>
  <body class="single">
    <script>
      setTheme();
    </script>
    <header class="header">
      <nav class="nav">
        <p class="logo"><a href="https://xshi000.github.io/">及时当勉励，岁月不待人！@iNuo</a></p>
      </nav>
    </header>
    <main class="main">


<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">极简Java十七：SpringMvc框架</h1>
    <div class="post-meta">February 8, 2021</div>
  </header>
  <div class="post-content"><hr>
<h3 id="第一章">第一章</h3>
<hr>
<h5 id="本章内容">本章内容</h5>
<ul>
<li>三层架构和MVC模型</li>
<li>SpringMVC的入门案例</li>
<li>请求参数的绑定</li>
<li>常用的注解</li>
</ul>
<hr>
<h4 id="11-三层架构和mvc模型">1.1 三层架构和MVC模型</h4>
<h5 id="三层架构">三层架构</h5>
<ol>
<li>
<p>咱们开发服务器端程序，一般都基于两种形式，一种C/S架构程序，一种B/S架构程序</p>
</li>
<li>
<p>使用Java语言基本上都是开发B/S架构的程序，B/S架构又分成了三层架构</p>
</li>
<li>
<p>三层架构</p>
<p>表现层：WEB层，用来和客户端进行数据交互的。表现层一般会采用MVC的设计模型</p>
<p>业务层：SERVICE层，处理公司具体的业务逻辑的</p>
<p>持久层：DAO层，用来操作数据库的</p>
</li>
</ol>
<h5 id="mvc模型">MVC模型</h5>
<p>MVC全名是Model View Controller 模型视图控制器，每个部分各司其职。</p>
<ol>
<li>
<p>Model：数据模型，JavaBean的类，用来进行数据封装。</p>
</li>
<li>
<p>View：指JSP、HTML用来展示数据给用户</p>
</li>
<li>
<p>Controller：用来接收用户的请求，整个流程的控制器。用来进行数据校验等。</p>
</li>
</ol>
<h4 id="12-springmvc的入门案例">1.2 SpringMVC的入门案例</h4>
<h5 id="springmvc概述">SpringMVC概述</h5>
<ul>
<li>
<p>是一种基于Java实现的MVC设计模型的请求驱动类型的轻量级WEB框架。</p>
</li>
<li>
<p>Spring MVC属于SpringFrameWork的后续产品，已经融合在Spring Web Flow里面，Spring 框架提供了构建 Web 应用程序的全功能 MVC 模块。</p>
</li>
<li>
<p>使用 Spring 可插入的 MVC 架构，从而在使用Spring进行WEB开发时，可以选择使用Spring的SpringMVC框架或集成其他MVC开发框架，如Struts1(现在一般不用)，Struts2等。</p>
</li>
<li>
<p>SpringMVC在三层架构中的位置是 表现层框架</p>
</li>
</ul>
<h5 id="springmvc的入门程序">SpringMVC的入门程序</h5>
<ol>
<li>创建WEB工程，引入开发的jar包，具体的坐标如下：</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;!-- 版本锁定 --&gt;</span>
<span style="color:#f92672">&lt;properties&gt;</span>
    <span style="color:#f92672">&lt;spring.version&gt;</span>5.0.2.RELEASE<span style="color:#f92672">&lt;/spring.version&gt;</span>
<span style="color:#f92672">&lt;/properties&gt;</span>

<span style="color:#f92672">&lt;dependencies&gt;</span>
    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>org.springframework<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>spring-context<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>${spring.version}<span style="color:#f92672">&lt;/version&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>

    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>org.springframework<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>spring-web<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>${spring.version}<span style="color:#f92672">&lt;/version&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>

    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>org.springframework<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>spring-webmvc<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>${spring.version}<span style="color:#f92672">&lt;/version&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>

    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>javax.servlet<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>servlet-api<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>2.5<span style="color:#f92672">&lt;/version&gt;</span>
        <span style="color:#f92672">&lt;scope&gt;</span>provided<span style="color:#f92672">&lt;/scope&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>

    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>javax.servlet.jsp<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>jsp-api<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>2.0<span style="color:#f92672">&lt;/version&gt;</span>
        <span style="color:#f92672">&lt;scope&gt;</span>provided<span style="color:#f92672">&lt;/scope&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>
<span style="color:#f92672">&lt;/dependencies&gt;</span>
</code></pre></div><ol start="2">
<li>配置前端控制器（配置DispatcherServlet）在web.xml配置文件中前端控制器DispatcherServlet</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;servlet&gt;</span>
    <span style="color:#f92672">&lt;servlet-name&gt;</span>dispatcherServlet<span style="color:#f92672">&lt;/servlet-name&gt;</span>
    <span style="color:#f92672">&lt;servlet-class&gt;</span>org.springframework.web.servlet.DispatcherServlet<span style="color:#f92672">&lt;/servlet-class&gt;</span>
    
    <span style="color:#75715e">&lt;!-- 配置Servlet的初始化参数，读取springmvc的配置文件，创建spring容器 --&gt;</span>
    <span style="color:#f92672">&lt;init-param&gt;</span>
        <span style="color:#f92672">&lt;param-name&gt;</span>contextConfigLocation<span style="color:#f92672">&lt;/param-name&gt;</span>
        <span style="color:#f92672">&lt;param-value&gt;</span>classpath:springmvc.xml<span style="color:#f92672">&lt;/param-value&gt;</span>
    <span style="color:#f92672">&lt;/init-param&gt;</span>
    
    <span style="color:#75715e">&lt;!-- 配置servlet启动时加载对象 --&gt;</span>
    <span style="color:#f92672">&lt;load-on-startup&gt;</span>1<span style="color:#f92672">&lt;/load-on-startup&gt;</span>
<span style="color:#f92672">&lt;/servlet&gt;</span>

<span style="color:#f92672">&lt;servlet-mapping&gt;</span>
    <span style="color:#f92672">&lt;servlet-name&gt;</span>dispatcherServlet<span style="color:#f92672">&lt;/servlet-name&gt;</span>xml
    <span style="color:#f92672">&lt;url-pattern&gt;</span>/<span style="color:#f92672">&lt;/url-pattern&gt;</span>
<span style="color:#f92672">&lt;/servlet-mapping&gt;</span>
</code></pre></div><ol start="3">
<li>编写springmvc.xml的配置文件</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span style="color:#f92672">&lt;beans</span> <span style="color:#960050;background-color:#1e0010">[</span><span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://www.springframework.org/schema/beans](http://www.springframework.org/schema/beans)&#34;</span> <span style="color:#a6e22e">xmlns:mvc=</span><span style="color:#e6db74">&#34;http://www.springframework.org/schema/mvc&#34;</span> <span style="color:#a6e22e">xmlns:context=</span><span style="color:#e6db74">&#34;http://www.springframework.org/schema/context&#34;</span> <span style="color:#a6e22e">xmlns:xsi=</span><span style="color:#e6db74">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span> <span style="color:#a6e22e">xsi:schemaLocation=</span><span style="color:#e6db74">&#34;
</span><span style="color:#e6db74">http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&#34;</span><span style="color:#f92672">&gt;</span>

    <span style="color:#75715e">&lt;!-- 配置spring创建容器时要扫描的包 --&gt;</span>
    <span style="color:#f92672">&lt;context:component-scan</span>  <span style="color:#a6e22e">base-package=</span><span style="color:#e6db74">&#34;com.iNuo&#34;</span><span style="color:#f92672">&gt;&lt;/context:component-scan&gt;</span>

    <span style="color:#75715e">&lt;!-- 配置视图解析器 --&gt;</span>
    <span style="color:#f92672">&lt;bean</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;viewResolver&#34;</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;org.springframework.web.servlet.view.InternalResourceViewResolver&#34;</span><span style="color:#f92672">&gt;</span>
        <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;prefix&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;/WEB-INF/pages/&#34;</span><span style="color:#f92672">&gt;&lt;/property&gt;</span>
        <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;suffix&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;.jsp&#34;</span><span style="color:#f92672">&gt;&lt;/property&gt;</span>
    <span style="color:#f92672">&lt;/bean&gt;</span>

    <span style="color:#75715e">&lt;!-- 配置spring开启注解mvc的支持
</span><span style="color:#75715e">&lt;mvc:annotation-driven&gt;&lt;/mvc:annotation-driven&gt;--&gt;</span>

<span style="color:#f92672">&lt;/beans&gt;</span>
</code></pre></div><ol start="4">
<li>编写HelloController控制器类</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.iNuo.controller<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span>  org.springframework.stereotype.Controller<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span>   org.springframework.web.bind.annotation.RequestMapping<span style="color:#f92672">;</span>

<span style="color:#75715e">/*
</span><span style="color:#75715e">	控制器
</span><span style="color:#75715e">	@author rt
</span><span style="color:#75715e">*/</span>
<span style="color:#a6e22e">@Controller</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HelloController</span> <span style="color:#f92672">{</span>

    <span style="color:#75715e">/*
</span><span style="color:#75715e">	接收请求
</span><span style="color:#75715e">	@return
</span><span style="color:#75715e">	*/</span>
    <span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/hello&#34;</span><span style="color:#f92672">)</span> 
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">sayHello</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Hello SpringMVC!!&#34;</span><span style="color:#f92672">);</span> 
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span>
</code></pre></div><ol start="5">
<li>在WEB-INF目录下创建pages文件夹，编写success.jsp的成功页面</li>
</ol>
<pre><code class="language-jsp" data-lang="jsp">&lt;body&gt;
    &lt;h3&gt;入门成功！！&lt;/h3&gt;
&lt;/body&gt;
</code></pre><ol start="6">
<li>启动Tomcat服务器，进行测试</li>
</ol>
<h5 id="入门案例的执行过程分析">入门案例的执行过程分析</h5>
<ol>
<li>
<p>当启动Tomcat服务器的时候，因为配置了load-on-startup标签，所以会创建DispatcherServlet对象，就会加载springmvc.xml配置文件</p>
</li>
<li>
<p>springmvc.xml配置文件开启了注解扫描，那么HelloController对象就会被创建</p>
</li>
<li>
<p>当发送请求时，请求会先到达DispatcherServlet核心控制器，根据配置@RequestMapping注解找到执行的具体方法</p>
</li>
<li>
<p>根据执行方法的返回值，再根据配置的视图解析器，去指定的目录下查找指定名称的JSP文件</p>
</li>
<li>
<p>Tomcat服务器渲染页面，做出响应</p>
</li>
</ol>
<h5 id="架构流程">架构流程</h5>
<p>​	1、 用户发送请求至前端控制器DispatcherServlet</p>
<p>​	2、 DispatcherServlet收到请求调用HandlerMapping处理器映射器。</p>
<p>​	3、 处理器映射器根据请求url找到具体的处理器，生成处理器对象及处理器拦截器(如果有则生成)一并返回给	 			DispatcherServlet。</p>
<p>​	4、 DispatcherServlet通过HandlerAdapter处理器适配器调用处理器</p>
<p>​	5、 执行处理器(Controller，也叫后端控制器)。</p>
<p>​	6、 Controller执行完成返回ModelAndView</p>
<p>​	7、 HandlerAdapter将controller执行结果ModelAndView返回给DispatcherServlet</p>
<p>​	8、 DispatcherServlet将ModelAndView传给ViewReslover视图解析器</p>
<p>​	9、 ViewReslover解析后返回具体View</p>
<p>​	10、 DispatcherServlet对View进行渲染视图（即将模型数据填充至视图中）。</p>
<p>​	11、 DispatcherServlet响应用户</p>
<p><img src="/img/image-20201226195455646.png" alt="image-20201226195455646"></p>
<h5 id="组件说明">组件说明</h5>
<p>以下组件通常使用框架提供实现：（多数）</p>
<ul>
<li>DispatcherServlet：前端控制器</li>
</ul>
<p>用户请求到达前端控制器，它就相当于mvc模式中的c，dispatcherServlet是整个流程控制的中心，由它调用其它组件处理用户的请求，dispatcherServlet的存在降低了组件之间的耦合性。</p>
<ul>
<li>HandlerMapping：处理器映射器</li>
</ul>
<p>HandlerMapping负责根据用户请求找到Handler即处理器，springmvc提供了不同的映射器实现不同的映射方式，例如：配置文件方式，实现接口方式，注解方式等。</p>
<ul>
<li>Handler：处理器</li>
</ul>
<p>Handler 是继DispatcherServlet前端控制器的后端控制器，在DispatcherServlet的控制下Handler对具体的用户请求进行处理。由于Handler涉及到具体的用户业务请求，所以一般情况需要程序员根据业务需求开发Handler。</p>
<ul>
<li>HandlAdapter：处理器适配器</li>
</ul>
<p>通过HandlerAdapter对处理器进行执行，这是适配器模式的应用，通过扩展适配器可以对更多类型的处理器进行执行。</p>
<p><img src="/img/image-20201226195807432.png" alt="image-20201226195807432"></p>
<ul>
<li>View Resolver：视图解析器</li>
</ul>
<p>View Resolver负责将处理结果生成View视图，View Resolver首先根据逻辑视图名解析成物理视图名即具体的页面地址，再生成View视图对象，最后对View进行渲染将处理结果通过页面展示给用户。</p>
<ul>
<li>View：视图</li>
</ul>
<p>springmvc框架提供了很多的View视图类型的支持，包括：jstlView、freemarkerView、pdfView等。我们最常用的视图就是jsp。一般情况下需要通过页面标签或页面模版技术将模型数据通过页面展示给用户，需要由程序员根据业务需求开发具体的页面。</p>
<p>说明：在springmvc的各个组件中，处理器映射器、处理器适配器、视图解析器称为springmvc的三大组件。  需要用户开发的组件有handler、view</p>
<ul>
<li>框架默认加载组件</li>
</ul>
<p>前端控制器会从 DispatcherServlet.properties 文件中加载 HandlerMapping（处理器映射器）、HandlerAdapter（处理器适配器）、ViewResolver（视图解析器）等组件。如果不在 springmvc.xml 文件中配置，就会使用默认的。</p>
<p><img src="/img/image-20201226195858635.png" alt="image-20201226195858635"></p>
<ul>
<li>component-scan：组件扫描器</li>
</ul>
<p>​    使用组件扫描器省去在spring容器配置每个controller类的繁琐。使用&lt;context:component-scan&gt;自动扫描标记@controller的控制器类，配置如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;!-- 扫描controller注解,多个包中间使用半角逗号分隔 --&gt;</span>
<span style="color:#f92672">&lt;context:component-scan</span> <span style="color:#a6e22e">base-package=</span><span style="color:#e6db74">&#34;com.iNuo.controller &#34;</span><span style="color:#f92672">/&gt;</span>
</code></pre></div><ul>
<li>RequestMappingHandlerMapping：注解式处理器映射器</li>
</ul>
<p>​    对类中标记@ResquestMapping的方法进行映射，根据ResquestMapping定义的url匹配ResquestMapping标记的方法，匹配成功返回HandlerMethod对象给前端控制器，HandlerMethod对象中封装url对应的方Method。配置如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;!--注解映射器 --&gt;</span>
<span style="color:#f92672">&lt;bean</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping&#34;</span><span style="color:#f92672">/&gt;</span>
</code></pre></div><p>注解描述：@RequestMapping：定义请求url到处理器功能方法的映射</p>
<ul>
<li>
<p>RequestMappingHandlerAdapter：注解式处理器适配器</p>
<p>对标记@ResquestMapping的方法进行适配。配置如下：</p>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;!--注解适配器 --&gt;</span>
<span style="color:#f92672">&lt;bean</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&#34;</span><span style="color:#f92672">/&gt;</span>
</code></pre></div><ul>
<li>&lt;mvc:annotation-driven&gt;</li>
</ul>
<p>springmvc使用&lt;mvc:annotation-driven&gt;自动加载RequestMappingHandlerMapping和RequestMappingHandlerAdapter，可用在springmvc.xml配置文件中使用&lt;mvc:annotation-driven&gt;替代注解处理器和适配器的配置。</p>
<ul>
<li>InternalResourceViewResolver：视图解析器</li>
</ul>
<p>在springmvc.xml文件配置如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;bean</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;org.springframework.web.servlet.view.InternalResourceViewResolver&#34;</span><span style="color:#f92672">&gt;</span>       
    <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;viewClass&#34;</span>   <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;org.springframework.web.servlet.view.JstlView&#34;</span><span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;prefix&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;/WEB-INF/jsp/&#34;</span><span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;suffix&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;.jsp&#34;</span><span style="color:#f92672">/&gt;</span>     
<span style="color:#f92672">&lt;/bean&gt;</span>  
</code></pre></div><p>​	InternalResourceViewResolver：支持JSP视图解析</p>
<p>​	viewClass：JstlView表示JSP模板页面需要使用JSTL标签库，所以classpath中必须包含jstl的相关jar 包。此属性可以不设置，默认为JstlView。</p>
<p>​	prefix 和suffix：查找视图页面的前缀和后缀，最终视图的址为：前缀+逻辑视图名+后缀，逻辑视图名需要在controller中返回ModelAndView指定，比如逻辑视图名为hello，则最终返回的jsp视图地址 “WEB-INF/jsp/hello.jsp”</p>
<h4 id="13-请求参数的绑定">1.3 请求参数的绑定</h4>
<h5 id="请求参数的绑定说明">请求参数的绑定说明</h5>
<ul>
<li>绑定机制</li>
</ul>
<p>​	表单提交的数据都是k=v格式的  username=haha&amp;password=123</p>
<p>​	SpringMVC的参数绑定过程是把表单提交的请求参数，作为控制器中方法的参数进行绑定的</p>
<p>​	要求：提交表单的name和参数的名称是相同的</p>
<ul>
<li>
<p>支持的数据类型</p>
<p>基本数据类型和字符串类型</p>
<ul>
<li>
<p>提交表单的name和参数的名称是相同的</p>
</li>
<li>
<p>区分大小写</p>
</li>
</ul>
<p>实体类型（JavaBean）</p>
<ul>
<li>
<p>提交表单的name和JavaBean中的属性名称需要一致</p>
</li>
<li>
<p>如果一个JavaBean类中包含其他的引用类型，那么表单的name属性需要编写成：对象.属性   例如：</p>
</li>
</ul>
<p>address.name</p>
<p>集合数据类型（List、map集合等）</p>
<ul>
<li>JSP页面编写方式：list[0].属性</li>
</ul>
</li>
</ul>
<h5 id="使用示例">使用示例</h5>
<ol>
<li>编写Account实体类：</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Account</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">private</span> String userName<span style="color:#f92672">;</span>
   <span style="color:#66d9ef">private</span> String password<span style="color:#f92672">;</span>
   <span style="color:#66d9ef">private</span> Double money<span style="color:#f92672">;</span>
   <span style="color:#66d9ef">private</span> User user<span style="color:#f92672">;</span>
   <span style="color:#66d9ef">private</span> List<span style="color:#f92672">&lt;</span>User<span style="color:#f92672">&gt;</span> list<span style="color:#f92672">;</span>
   <span style="color:#66d9ef">private</span> Map<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span>User<span style="color:#f92672">&gt;</span> map<span style="color:#f92672">;</span>

<span style="color:#960050;background-color:#1e0010">。。。</span>

<span style="color:#f92672">}</span>
</code></pre></div><ol start="2">
<li>编写User实体类：</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">private</span> String uname<span style="color:#f92672">;</span>
   <span style="color:#66d9ef">private</span> Integer age<span style="color:#f92672">;</span>
   <span style="color:#66d9ef">private</span> Date date<span style="color:#f92672">;</span>

<span style="color:#960050;background-color:#1e0010">。。</span>

<span style="color:#f92672">}</span>
</code></pre></div><ol start="3">
<li>编写Param.jsp</li>
</ol>
<pre><code class="language-jsp" data-lang="jsp">&lt;body&gt;
    &lt;a href=&quot;param/testParam?username=hehe&amp;password=123&quot;&gt;请求参数绑定&lt;/a&gt;

    &lt;form action=&quot;param/saveAccount&quot; method=&quot;post&quot;&gt;
        姓名：&lt;input type=&quot;text&quot; name=&quot;userName&quot; /&gt;&lt;br/&gt;
        密码：&lt;input type=&quot;text&quot; name=&quot;password&quot; /&gt;&lt;br/&gt;
        金额：&lt;input type=&quot;text&quot; name=&quot;money&quot; /&gt;&lt;br/&gt;
        用户姓名：&lt;input type=&quot;text&quot; name=&quot;user.uname&quot; /&gt;&lt;br/&gt;
        用户年龄：&lt;input type=&quot;text&quot; name=&quot;user.age&quot; /&gt;&lt;br/&gt;
        &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;
    &lt;/form&gt;

    &lt;%--把数据封装Account类中，类中存在list和map的集合--%&gt;
    &lt;%-- &lt;form action=&quot;param/saveAccount&quot; method=&quot;post&quot;&gt;
    姓名：&lt;input type=&quot;text&quot; name=&quot;username&quot; /&gt;&lt;br/&gt;
    密码：&lt;input type=&quot;text&quot; name=&quot;password&quot; /&gt;&lt;br/&gt;
    金额：&lt;input type=&quot;text&quot; name=&quot;money&quot; /&gt;&lt;br/&gt;

    用户姓名：&lt;input type=&quot;text&quot; name=&quot;list[0].uname&quot; /&gt;&lt;br/&gt;
    用户年龄：&lt;input type=&quot;text&quot; name=&quot;list[0].age&quot; /&gt;&lt;br/&gt;

    用户姓名：&lt;input type=&quot;text&quot; name=&quot;map['one'].uname&quot; /&gt;&lt;br/&gt;
    用户年龄：&lt;input type=&quot;text&quot; name=&quot;map['one'].age&quot; /&gt;&lt;br/&gt;
    &lt;input type=&quot;submit&quot; value=&quot;提交&quot;jsp /&gt;--%&gt;
    &lt;/form&gt;
&lt;/body&gt;
</code></pre><ol start="4">
<li>编写paramController</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Controller</span>
<span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/param&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ParamController</span> <span style="color:#f92672">{</span>
    <span style="color:#75715e">/*
</span><span style="color:#75715e">   \ 请求参数绑定入门
</span><span style="color:#75715e">   \ @return
</span><span style="color:#75715e">   */</span>
    <span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/testParam&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">testParam</span><span style="color:#f92672">(</span>String username<span style="color:#f92672">,</span>String password<span style="color:#f92672">){</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;执行了...&#34;</span><span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;用户名：&#34;</span><span style="color:#f92672">+</span>username<span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;密码：&#34;</span><span style="color:#f92672">+</span>password<span style="color:#f92672">);</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#75715e">/*
</span><span style="color:#75715e">   \ 请求参数绑定把数据封装到JavaBean的类中
</span><span style="color:#75715e">   \ @return
</span><span style="color:#75715e">   */</span>
    <span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/saveAccount&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">saveAccount</span><span style="color:#f92672">(</span>Account account<span style="color:#f92672">){</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;执行了...&#34;</span><span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>account<span style="color:#f92672">);</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>启动服务器，测试！</p>
<h5 id="请求参数中文乱码的解决">请求参数中文乱码的解决</h5>
<p>在web.xml中配置Spring提供的过滤器类</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;!-- 配置过滤器，解决中文乱码的问题 --&gt;</span>
<span style="color:#f92672">&lt;filter&gt;</span>
    <span style="color:#f92672">&lt;filter-name&gt;</span>characterEncodingFilter<span style="color:#f92672">&lt;/filter-name&gt;</span>
    <span style="color:#f92672">&lt;filter-class&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span style="color:#f92672">&lt;/filter-class&gt;</span>
    <span style="color:#75715e">&lt;!-- 指定字符集 --&gt;</span>
    <span style="color:#f92672">&lt;init-param&gt;</span>
        <span style="color:#f92672">&lt;param-name&gt;</span>encoding<span style="color:#f92672">&lt;/param-name&gt;</span>
        <span style="color:#f92672">&lt;param-value&gt;</span>UTF-8<span style="color:#f92672">&lt;/param-value&gt;</span>
    <span style="color:#f92672">&lt;/init-param&gt;</span>
<span style="color:#f92672">&lt;/filter&gt;</span>
<span style="color:#f92672">&lt;filter-mapping&gt;</span>
    <span style="color:#f92672">&lt;filter-name&gt;</span>characterEncodingFilter<span style="color:#f92672">&lt;/filter-name&gt;</span>
    <span style="color:#f92672">&lt;url-pattern&gt;</span>/<span style="color:#f92672">&lt;/url-pattern&gt;</span>
<span style="color:#f92672">&lt;/filter-mapping&gt;</span>
</code></pre></div><h5 id="自定义类型转换器">自定义类型转换器</h5>
<p>表单提交的任何数据类型全部都是字符串类型，但是后台定义Integer类型，数据也可以封装上，说明Spring框架内部会默认进行数据类型转换。如果想自定义数据类型转换，如下操作：</p>
<p>第一步：定义一个类，实现Converter的接口，该接口有两个泛型</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.iNuo.utils<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> java.text.DateFormat<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span> java.text.SimpleDateFormat<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span> java.util.Date<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span>  org.springframework.core.convert.converter.Converter<span style="color:#f92672">;</span>

<span style="color:#75715e">/*
</span><span style="color:#75715e">	把字符串转换成日期的转换器
</span><span style="color:#75715e">	@author rt
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StringToDateConverter</span> <span style="color:#66d9ef">implements</span> Converter<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> Date<span style="color:#f92672">&gt;{</span>

    <span style="color:#75715e">/*
</span><span style="color:#75715e">	 进行类型转换的方法
</span><span style="color:#75715e">	*/</span>
    <span style="color:#66d9ef">public</span> Date <span style="color:#a6e22e">convert</span><span style="color:#f92672">(</span>String source<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// 判断
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>source <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> RuntimeException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;参数不能为空&#34;</span><span style="color:#f92672">);</span>

        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            DateFormat df <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SimpleDateFormat<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;yyyy-MM-dd&#34;</span><span style="color:#f92672">);</span>
            <span style="color:#75715e">// 解析字符串
</span><span style="color:#75715e"></span>            Date date <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span><span style="color:#a6e22e">parse</span><span style="color:#f92672">(</span>source<span style="color:#f92672">);</span> <span style="color:#66d9ef">return</span> date<span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> RuntimeException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;类型转换错误&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>第二步：注册自定义类型转换器，在springmvc.xml配置文件中编写配置</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;!-- 注册自定义类型转换器 --&gt;</span>
<span style="color:#f92672">&lt;bean</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;conversionService&#34;</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;org.springframework.context.support.ConversionServiceFactoryBean&#34;</span><span style="color:#f92672">&gt;</span>
    <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;converters&#34;</span><span style="color:#f92672">&gt;</span>
        <span style="color:#f92672">&lt;set&gt;</span>
            <span style="color:#f92672">&lt;bean</span>  <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;com.iNuo.utils.StringToDateConverter&#34;</span><span style="color:#f92672">/&gt;</span>
        <span style="color:#f92672">&lt;/set&gt;</span>
    <span style="color:#f92672">&lt;/property&gt;</span>
<span style="color:#f92672">&lt;/bean&gt;</span>

<span style="color:#75715e">&lt;!-- 引用自定义类型转换器 --&gt;</span>
<span style="color:#f92672">&lt;mvc:annotation-driven</span>   <span style="color:#a6e22e">conversion-service=</span><span style="color:#e6db74">&#34;conversionService&#34;</span><span style="color:#f92672">/&gt;</span>
</code></pre></div><h5 id="使用servletapi对象作为方法参数">使用ServletAPI对象作为方法参数</h5>
<p>在控制器中使用原生的ServletAPI对象，只需要在控制器的方法参数定义HttpServletRequest和HttpServletResponse对象</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/testServlet&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testServlet</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">){</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;执行了！&#34;</span><span style="color:#f92672">);</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>request<span style="color:#f92672">);</span>
    HttpSession session <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span><span style="color:#a6e22e">getSession</span><span style="color:#f92672">();</span>

    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>session<span style="color:#f92672">);</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>response<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/param/testServlet&#34;</span>&gt;原生的servlet&lt;/<span style="color:#f92672">a</span>&gt;
</code></pre></div><h4 id="14-常用的注解">1.4 常用的注解</h4>
<h5 id="requestmapping注解">RequestMapping注解</h5>
<ol>
<li>
<p>RequestMapping注解的作用是：建立请求URL和处理方法之间的对应关系</p>
</li>
<li>
<p>RequestMapping注解可作用在：方法和类上</p>
<p>作用在类上：第一级的访问目录</p>
<p>作用在方法上：第二级的访问目录</p>
<p>细节： /  表示应用的根目录开始</p>
</li>
<li>
<p>RequestMapping的属性</p>
<p>path    指定请求路径的url</p>
<p>value    value属性和path属性是一样的</p>
<p>method 提交方式</p>
<p>params  表示请求必须包含params的请求参数。</p>
</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">// 控制器类
</span><span style="color:#75715e"></span><span style="color:#a6e22e">@Controller</span>
<span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/user&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HelloController</span> <span style="color:#f92672">{</span>

    <span style="color:#75715e">/*
</span><span style="color:#75715e">   \ 入门案例
</span><span style="color:#75715e">   \ @return
</span><span style="color:#75715e">   */</span>
    <span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/hello&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">sayHello</span><span style="color:#f92672">(){</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Hello StringMVC&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#75715e">/*
</span><span style="color:#75715e">   \ RequestMapping注解
</span><span style="color:#75715e">   \ @return
</span><span style="color:#75715e">   */</span>
    <span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>value<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/testRequestMapping&#34;</span><span style="color:#f92672">,</span>method<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">testRequestMapping</span><span style="color:#f92672">(){</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;测试RequestMapping注解...&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    
    <span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>value<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/deleteUser&#34;</span><span style="color:#f92672">,</span>params<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;userName&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">deleteUser</span><span style="color:#f92672">(){</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;测试RequestMapping注解...&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span>
</code></pre></div><p>启动服务器，测试.jsp:</p>
<pre><code class="language-jsp" data-lang="jsp">&lt;a href=&quot;&lt;%=request.getContextPath()%&gt;/user/hello&quot;&gt;执行sayHello方法&lt;/a&gt;

&lt;a href=&quot;user/testRequestMapping&quot;&gt;testRequestMapping&lt;/a&gt;
&lt;form action=&quot;user/testRequestMapping&quot; method=&quot;post&quot;&gt;
    &lt;input type=&quot;submit&quot; value=&quot;testRequestMapping&quot;&gt;
&lt;/form&gt;

&lt;a href=&quot;user/deleteUser?userName=iNuo&quot;&gt;deleteUser&lt;/a&gt;
</code></pre><h5 id="requestparam注解">RequestParam注解</h5>
<p>作用：把请求中的指定名称的参数传递给控制器中的形参赋值</p>
<p>属性</p>
<ul>
<li>
<p>value：请求参数中的名称</p>
</li>
<li>
<p>required：请求参数中是否必须提供此参数，默认值是true，必须提供</p>
</li>
</ul>
<p>代码如下</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/*
</span><span style="color:#75715e">	接收请求
</span><span style="color:#75715e">	@return
</span><span style="color:#75715e">*/</span>
<span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/hello&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">sayHello</span><span style="color:#f92672">(</span><span style="color:#a6e22e">@RequestParam</span><span style="color:#f92672">(</span>value<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;username&#34;</span><span style="color:#f92672">,</span>required<span style="color:#f92672">=</span><span style="color:#66d9ef">false</span><span style="color:#f92672">)</span>String name<span style="color:#f92672">)</span> <span style="color:#f92672">{</span> 	System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;aaaa&#34;</span><span style="color:#f92672">);</span>                                                           System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>name<span style="color:#f92672">);</span> 
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><pre><code class="language-jsp" data-lang="jsp">&lt;a href=&quot;anno/hello?username=iNuo&quot;&gt;RequestParam&lt;/a&gt;
</code></pre><h5 id="requestbody注解">RequestBody注解</h5>
<p>作用：用于获取请求体的内容（注意：get方法不可以）</p>
<p>属性：required：是否必须有请求体，默认值是true</p>
<p>代码如下</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/*
</span><span style="color:#75715e">	接收请求
</span><span style="color:#75715e">	@return
</span><span style="color:#75715e">*/</span>
<span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/hello&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">sayHello</span><span style="color:#f92672">(</span><span style="color:#a6e22e">@RequestBody</span> String body<span style="color:#f92672">)</span> <span style="color:#f92672">{</span> 
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;aaaa&#34;</span><span style="color:#f92672">);</span> 
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>body<span style="color:#f92672">);</span>
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><pre><code class="language-jsp" data-lang="jsp">&lt;form action=&quot;anno/hello&quot; method=&quot;post&quot;&gt;
    用户名：&lt;input type=&quot;text&quot; name=&quot;userName&quot;&gt;&lt;br/&gt;
    密码：&lt;input type=&quot;password&quot; name=&quot;pwd&quot; &gt;&lt;br/&gt;
    &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;
&lt;/form&gt;
</code></pre><h5 id="pathvariable注解">PathVariable注解</h5>
<p>作用：拥有绑定url中的占位符的。例如：url中有/delete/{id}，{id}就是占位符</p>
<p>属性：value：指定url中的占位符名称</p>
<p>Restful风格的URL</p>
<ul>
<li>
<p>请求路径一样，可以根据不同的请求方式去执行后台的不同方法</p>
</li>
<li>
<p>restful风格的URL优点：结构清晰+符合标准+易于理解+扩展方便</p>
</li>
</ul>
<p>代码如下</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/*
</span><span style="color:#75715e">	接收请求
</span><span style="color:#75715e">	@return
</span><span style="color:#75715e">*/</span>
<span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/hello/{id}&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">sayHello</span><span style="color:#f92672">(</span><span style="color:#a6e22e">@PathVariable</span><span style="color:#f92672">(</span>value<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">)</span> String id<span style="color:#f92672">)</span> <span style="color:#f92672">{</span> 
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">priannontln</span><span style="color:#f92672">(</span>id<span style="color:#f92672">);</span>
	<span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><pre><code class="language-jsp" data-lang="jsp">&lt;a href=&quot;anno/hello/1&quot;&gt;PathVariable&lt;/a&gt;
</code></pre><p>​</p>
<h5 id="requestheader注解">RequestHeader注解</h5>
<p>作用：获取指定请求头的值</p>
<p>属性：value：请求头的名称</p>
<p>代码如下</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/hello&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">sayHello</span><span style="color:#f92672">(</span><span style="color:#a6e22e">@RequestHeader</span><span style="color:#f92672">(</span>value<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Accept&#34;</span><span style="color:#f92672">)</span> String header<span style="color:#f92672">)</span> <span style="color:#f92672">{</span> 	
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>header<span style="color:#f92672">);</span>
	<span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><pre><code class="language-jsp" data-lang="jsp">&lt;a href=&quot;anno/hello&quot;&gt;RequestHeader&lt;/a&gt;
</code></pre><p>​</p>
<h5 id="cookievalue注解">CookieValue注解</h5>
<p>作用：用于获取指定cookie的名称的值</p>
<p>属性：value：cookie的名称</p>
<p>代码</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/hello&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">sayHello</span><span style="color:#f92672">(</span><span style="color:#a6e22e">@CookieValue</span><span style="color:#f92672">(</span>value<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;JSESSIONID&#34;</span><span style="color:#f92672">)</span> String cookieValue<span style="color:#f92672">)</span> <span style="color:#f92672">{</span> 
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>cookieValue<span style="color:#f92672">);</span>
	<span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><pre><code class="language-jsp" data-lang="jsp">&lt;a href=&quot;anno/hello&quot;&gt;CookieValue&lt;/a&gt;
</code></pre><h5 id="modelattribute注解了解">ModelAttribute注解（了解）</h5>
<p>应用：当提交表单数据不是完整的实体数据时，保证没有提交的字段使用数据库原来的数据。</p>
<p>作用</p>
<ul>
<li>
<p>出现在方法上：表示当前方法会在控制器方法执行前先执行。</p>
</li>
<li>
<p>出现在参数上：获取指定的数据给参数赋值。</p>
</li>
</ul>
<p>具体的代码</p>
<ul>
<li>修饰的方法有返回值</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/*
</span><span style="color:#75715e">	作用在方法，先执行
</span><span style="color:#75715e">	@param name
</span><span style="color:#75715e">	@return
</span><span style="color:#75715e">*/</span>
<span style="color:#a6e22e">@ModelAttribute</span>
<span style="color:#66d9ef">public</span> User <span style="color:#a6e22e">showUser</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;showUser执行了...&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#75715e">// 模拟从数据库中查询对象
</span><span style="color:#75715e"></span>    User user <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> User<span style="color:#f92672">();</span>
    user<span style="color:#f92672">.</span><span style="color:#a6e22e">setName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;哈哈&#34;</span><span style="color:#f92672">);</span> 
    user<span style="color:#f92672">.</span><span style="color:#a6e22e">setPassword</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;123&#34;</span><span style="color:#f92672">);</span> 
    user<span style="color:#f92672">.</span><span style="color:#a6e22e">setMoney</span><span style="color:#f92672">(</span>100d<span style="color:#f92672">);</span> 
    <span style="color:#66d9ef">return</span> user<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>

<span style="color:#75715e">/*
</span><span style="color:#75715e">	修改用户的方法
</span><span style="color:#75715e">	@param cookieValue
</span><span style="color:#75715e">	@return
</span><span style="color:#75715e">*/</span>
<span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/updateUser&#34;</span><span style="color:#f92672">)</span> 
<span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">updateUser</span><span style="color:#f92672">(</span>User user<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>user<span style="color:#f92672">);</span> 
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>

</code></pre></div><ul>
<li>修饰的方法没有返回值</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/*
</span><span style="color:#75715e">	作用在方法，先执行
</span><span style="color:#75715e">	@param name
</span><span style="color:#75715e">	@return
</span><span style="color:#75715e">*/</span>
<span style="color:#a6e22e">@ModelAttribute</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">showUser</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">,</span>Map<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> User<span style="color:#f92672">&gt;</span> map<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;showUser执行了...&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#75715e">// 模拟从数据库中查询对象
</span><span style="color:#75715e"></span>    User user <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> User<span style="color:#f92672">();</span>
    user<span style="color:#f92672">.</span><span style="color:#a6e22e">setName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;哈哈&#34;</span><span style="color:#f92672">);</span> 
    user<span style="color:#f92672">.</span><span style="color:#a6e22e">setPassword</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;123&#34;</span><span style="color:#f92672">);</span> 
    user<span style="color:#f92672">.</span><span style="color:#a6e22e">setMoney</span><span style="color:#f92672">(</span>100d<span style="color:#f92672">);</span> 
    map<span style="color:#f92672">.</span><span style="color:#a6e22e">put</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;abc&#34;</span><span style="color:#f92672">,</span> user<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span>

<span style="color:#75715e">/*
</span><span style="color:#75715e">	修改用户的方法
</span><span style="color:#75715e">	@param cookieValue
</span><span style="color:#75715e">	@return
</span><span style="color:#75715e">*/</span>
<span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/updateUser&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">updateUser</span><span style="color:#f92672">(</span><span style="color:#a6e22e">@ModelAttribute</span><span style="color:#f92672">(</span>value<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;abc&#34;</span><span style="color:#f92672">)</span> User user<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>user<span style="color:#f92672">);</span>
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>​</p>
<h5 id="sessionattributes注解">SessionAttributes注解</h5>
<p>作用：用于多次执行控制器方法间的参数共享</p>
<p>属性：value：指定存入属性的名称</p>
<p>代码如下</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Controller</span>
<span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/user&#34;</span><span style="color:#f92672">)</span>
<span style="color:#a6e22e">@SessionAttributes</span><span style="color:#f92672">(</span>value<span style="color:#f92672">=</span>   <span style="color:#f92672">{</span><span style="color:#e6db74">&#34;username&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;password&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;age&#34;</span><span style="color:#f92672">},</span>types<span style="color:#f92672">={</span>String<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span>Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">})</span>	<span style="color:#75715e">// 把数据存入到session域对象中
</span><span style="color:#75715e"></span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HelloController</span> <span style="color:#f92672">{</span>

    <span style="color:#75715e">/*
</span><span style="color:#75715e">		向session中存入值
</span><span style="color:#75715e">		@return
</span><span style="color:#75715e">	*/</span>
    <span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/save&#34;</span><span style="color:#f92672">)</span> 
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">save</span><span style="color:#f92672">(</span>Model model<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;向session域中保存数据&#34;</span><span style="color:#f92672">);</span>
        model<span style="color:#f92672">.</span><span style="color:#a6e22e">addAttribute</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;username&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;root&#34;</span><span style="color:#f92672">);</span> 
        model<span style="color:#f92672">.</span><span style="color:#a6e22e">addAttribute</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;password&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;123&#34;</span><span style="color:#f92672">);</span>
        model<span style="color:#f92672">.</span><span style="color:#a6e22e">addAttribute</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;age&#34;</span><span style="color:#f92672">,</span> 20<span style="color:#f92672">);</span> 
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#75715e">/*
</span><span style="color:#75715e">		从session中获取值
</span><span style="color:#75715e">		@return
</span><span style="color:#75715e">	*/</span>
    <span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/find&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">find</span><span style="color:#f92672">(</span>ModelMap modelMap<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        String username <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>String<span style="color:#f92672">)</span> modelMap<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;username&#34;</span><span style="color:#f92672">);</span> 
        String password <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>String<span style="color:#f92672">)</span> modelMap<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;password&#34;</span><span style="color:#f92672">);</span> 
        Integer age <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>Integer<span style="color:#f92672">)</span> modelMap<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;age&#34;</span><span style="color:#f92672">);</span> 
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>username <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; : &#34;</span><span style="color:#f92672">+</span>password <span style="color:#f92672">+</span><span style="color:#e6db74">&#34; : &#34;</span><span style="color:#f92672">+</span>age<span style="color:#f92672">);</span> 
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#75715e">/*
</span><span style="color:#75715e">		清除值
</span><span style="color:#75715e">		@return
</span><span style="color:#75715e">	*/</span>
    <span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/delete&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">delete</span><span style="color:#f92672">(</span>SessionStatus status<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        status<span style="color:#f92672">.</span><span style="color:#a6e22e">setComplete</span><span style="color:#f92672">();</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>​</p>
<hr>
<h3 id="第二章">第二章</h3>
<hr>
<h5 id="本章内容-1">本章内容</h5>
<ul>
<li>响应数据和结果视图</li>
<li>SpringMVC实现文件上传</li>
<li>SpringMVC的异常处理</li>
<li>SpringMVC框架中的拦截器</li>
</ul>
<hr>
<h4 id="21-响应数据和结果视图">2.1 响应数据和结果视图</h4>
<h5 id="返回值分类">返回值分类</h5>
<ol>
<li>
<p>返回字符串</p>
<p>Controller方法返回字符串可以指定逻辑视图的名称，根据视图解析器为物理视图的地址。</p>
</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>value<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/hello&#34;</span><span style="color:#f92672">)</span> 
<span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">sayHello</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Hello SpringMVC!!&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#75715e">// 跳转到XX页面
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>​	具体的应用场景</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Controller</span>
<span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/user&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">UserController</span> <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/testString&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">testString</span><span style="color:#f92672">(</span>Model model<span style="color:#f92672">){</span>
        User user <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> User<span style="color:#f92672">();</span>
        user<span style="color:#f92672">.</span><span style="color:#a6e22e">setName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;zhangsan&#34;</span><span style="color:#f92672">);</span>
        user<span style="color:#f92672">.</span><span style="color:#a6e22e">setAge</span><span style="color:#f92672">(</span>23<span style="color:#f92672">);</span>
        user<span style="color:#f92672">.</span><span style="color:#a6e22e">setUid</span><span style="color:#f92672">(</span>1<span style="color:#f92672">);</span>
        model<span style="color:#f92672">.</span><span style="color:#a6e22e">addAttribute</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;user&#34;</span><span style="color:#f92672">,</span>user<span style="color:#f92672">);</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;aa&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><pre><code class="language-jsp" data-lang="jsp">&lt;a href=&quot;/user/testString&quot;&gt;跳转&lt;/a&gt;
&lt;body&gt;
    ${user.name}
    ${user.age}
&lt;/body&gt;
</code></pre><p>Web.xml中：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;web-app</span> <span style="color:#a6e22e">xmlns:xsi=</span><span style="color:#e6db74">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
         <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://java.sun.com/xml/ns/javaee&#34;</span>
         <span style="color:#a6e22e">xsi:schemaLocation=</span><span style="color:#e6db74">&#34;http://java.sun.com/xml/ns/javaee
</span><span style="color:#e6db74">                             http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&#34;</span>
         <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;WebApp_ID&#34;</span> <span style="color:#a6e22e">version=</span><span style="color:#e6db74">&#34;2.5&#34;</span><span style="color:#f92672">&gt;</span>

<span style="color:#f92672">&lt;/web-app&gt;</span>
</code></pre></div><ol start="2">
<li>
<p>返回值是void</p>
<p>如果控制器的方法返回值编写成void,可以使用请求转发或者重定向跳转到指定的页面</p>
</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>value<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/initAdd&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">initAdd</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span>HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;请求转发或者重定向&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#75715e">// 请求转发
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// request.getRequestDispatcher(&#34;/WEB-INF/pages/add.jsp&#34;).forward(request, response);
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 重定向
</span><span style="color:#75715e"></span>    <span style="color:#75715e">//   response.sendRedirect(request.getContextPath()+&#34;/add2.jsp&#34;);
</span><span style="color:#75715e"></span>
    response<span style="color:#f92672">.</span><span style="color:#a6e22e">setCharacterEncoding</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;UTF-8&#34;</span><span style="color:#f92672">);</span>
    response<span style="color:#f92672">.</span><span style="color:#a6e22e">setContentType</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;text/html;charset=UTF-8&#34;</span><span style="color:#f92672">);</span>

    <span style="color:#75715e">// 直接响应数据
</span><span style="color:#75715e"></span>    response<span style="color:#f92672">.</span><span style="color:#a6e22e">getWriter</span><span style="color:#f92672">().</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;你好&#34;</span><span style="color:#f92672">);</span> 
    <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>

</code></pre></div><ol start="3">
<li>
<p>返回值是ModelAndView对象</p>
<p>ModelAndView对象是Spring提供的一个对象，可以用来调整具体的JSP视图</p>
<p>具体的代码如下</p>
</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/*
</span><span style="color:#75715e">	返回ModelAndView对象
</span><span style="color:#75715e">	可以传入视图的名称（即跳转的页面），还可以传入对象。
</span><span style="color:#75715e">	@return
</span><span style="color:#75715e">	@throws Exception
</span><span style="color:#75715e">*/</span>
<span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>value<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/findAll&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> ModelAndView <span style="color:#a6e22e">findAll</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span> 
    ModelAndView mv <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ModelAndView<span style="color:#f92672">();</span>
    <span style="color:#75715e">// 跳转到list.jsp的页面
</span><span style="color:#75715e"></span>    mv<span style="color:#f92672">.</span><span style="color:#a6e22e">setViewName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;list&#34;</span><span style="color:#f92672">);</span>

    <span style="color:#75715e">// 模拟从数据库中查询所有的用户信息
</span><span style="color:#75715e"></span>    User user1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> User<span style="color:#f92672">();</span>
    user1<span style="color:#f92672">.</span><span style="color:#a6e22e">setUsername</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;张三&#34;</span><span style="color:#f92672">);</span>
    user1<span style="color:#f92672">.</span><span style="color:#a6e22e">setPassword</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;123&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#75715e">// 添加对象
</span><span style="color:#75715e"></span>    mv<span style="color:#f92672">.</span><span style="color:#a6e22e">addObject</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;user&#34;</span><span style="color:#f92672">,</span> user1<span style="color:#f92672">);</span>

    <span style="color:#66d9ef">return</span> mv<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><pre><code class="language-jsp" data-lang="jsp">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
        &lt;title&gt;Insert title here&lt;/title&gt;
        &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h3&gt;查询所有的数据&lt;/h3&gt;
        ${user.name}
    &lt;/body&gt;
&lt;/html&gt;
</code></pre><h5 id="springmvc框架提供的转发和重定向">SpringMVC框架提供的转发和重定向</h5>
<ol>
<li>
<p>forward请求转发</p>
<p>controller方法返回String类型，想进行请求转发也可以编写成</p>
</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/*
</span><span style="color:#75715e">	使用forward关键字进行请求转发
</span><span style="color:#75715e">	&#34;forward:转发的JSP路径&#34;，不走视图解析器了，所以需要编写完整的路径
</span><span style="color:#75715e">	@return
</span><span style="color:#75715e">	@throws Exception
</span><span style="color:#75715e">*/</span>
<span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/delete&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">delete</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;delete方法执行了...&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#75715e">// return &#34;forward:/WEB-INF/pages/success.jsp&#34;; 
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;forward:/user/findAll&#34;</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><pre><code class="language-jsp" data-lang="jsp">&lt;a href=&quot;delete&quot;&gt;forward请求转发&lt;/a&gt;
</code></pre><ol start="2">
<li>
<p>redirect重定向</p>
<p>controller方法返回String类型，想进行重定向也可以编写成</p>
</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/*
</span><span style="color:#75715e">	重定向
</span><span style="color:#75715e">	@return
</span><span style="color:#75715e">	@throws Exception
</span><span style="color:#75715e">*/</span>
<span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/count&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">count</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;count方法执行了...&#34;</span><span style="color:#f92672">);</span> 
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;redirect:/add.jsp&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#75715e">// return &#34;redirect:/user/findAll&#34;;
</span><span style="color:#75715e"></span><span style="color:#f92672">}</span>
</code></pre></div><pre><code class="language-jsp" data-lang="jsp">&lt;a href=&quot;count&quot;&gt;redirect重定向&lt;/a&gt;
</code></pre><h5 id="responsebody响应json数据">ResponseBody响应json数据</h5>
<ol>
<li>
<p>DispatcherServlet会拦截到所有的资源，导致一个问题就是静态资源（img、css、js）也会被拦截到，从而不能被使用。解决问题就是需要配置静态资源不进行拦截，在springmvc.xml配置文件添加如下配置</p>
<p>mvc:resources标签配置不过滤</p>
</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;!-- 设置静态资源不过滤 --&gt;</span>
<span style="color:#f92672">&lt;mvc:resources</span> <span style="color:#a6e22e">location=</span><span style="color:#e6db74">&#34;/css/&#34;</span> <span style="color:#a6e22e">mapping=</span><span style="color:#e6db74">&#34;/css/&#34;</span><span style="color:#f92672">/&gt;</span> <span style="color:#75715e">&lt;!-- 样式 --&gt;</span>
<span style="color:#f92672">&lt;mvc:resources</span> <span style="color:#a6e22e">location=</span><span style="color:#e6db74">&#34;/images/&#34;</span> <span style="color:#a6e22e">mapping=</span><span style="color:#e6db74">&#34;/images/&#34;</span><span style="color:#f92672">/&gt;</span> <span style="color:#75715e">&lt;!-- 图片 --&gt;</span>
<span style="color:#f92672">&lt;mvc:resources</span> <span style="color:#a6e22e">location=</span><span style="color:#e6db74">&#34;/js/&#34;</span> <span style="color:#a6e22e">mapping=</span><span style="color:#e6db74">&#34;/js/&#34;</span><span style="color:#f92672">/&gt;</span> <span style="color:#75715e">&lt;!-- javascript --&gt;</span>
</code></pre></div><ul>
<li>location元素表示webapp目录下的包下的所有文件</li>
<li>mapping元素表示以/static开头的所有请求路径，如/static/a   或者/static/a/b</li>
</ul>
<ol start="2">
<li>使用@RequestBody获取请求体数据</li>
</ol>
<p>需要在springmvc.xml中加入: &lt;mvc:annotation-driven /&gt;</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// 页面加载
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#66d9ef">function</span>(){
    <span style="color:#75715e">// 绑定点击事件
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#btn&#34;</span>).<span style="color:#a6e22e">click</span>(<span style="color:#66d9ef">function</span>(){
        <span style="color:#a6e22e">$</span>.<span style="color:#a6e22e">ajax</span>({
            <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;user/testJson&#34;</span>, 
            <span style="color:#a6e22e">contentType</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;application/json;charset=UTF-8&#34;</span>,
            <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;{&#34;addressName&#34;:&#34;aa&#34;,&#34;addressNum&#34;:100}&#39;</span>, 
            <span style="color:#a6e22e">dataType</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;json&#34;</span>,
            <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;post&#34;</span>, 
            <span style="color:#a6e22e">success</span><span style="color:#f92672">:</span><span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">data</span>){
                <span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">data</span>); 
                <span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">addressName</span>);
            }
        });
    });
});
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/*
</span><span style="color:#75715e">	获取请求体的数据
</span><span style="color:#75715e">	@param body
</span><span style="color:#75715e">*/</span>
<span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/testJson&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testJson</span><span style="color:#f92672">(</span><span style="color:#a6e22e">@RequestBody</span> String body<span style="color:#f92672">)</span> <span style="color:#f92672">{</span> 
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>body<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span>
</code></pre></div><ol start="3">
<li>
<p>使用@RequestBody注解把json的字符串转换成JavaBean的对象</p>
<p>json字符串和JavaBean对象互相转换的过程中，需要使用jackson的jar包</p>
</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;dependency&gt;</span>
    <span style="color:#f92672">&lt;groupId&gt;</span>com.fasterxml.jackson.core<span style="color:#f92672">&lt;/groupId&gt;</span>
    <span style="color:#f92672">&lt;artifactId&gt;</span>jackson-databind<span style="color:#f92672">&lt;/artifactId&gt;</span>
    <span style="color:#f92672">&lt;version&gt;</span>2.9.0<span style="color:#f92672">&lt;/version&gt;</span>
<span style="color:#f92672">&lt;/dependency&gt;</span>
<span style="color:#f92672">&lt;dependency&gt;</span>
    <span style="color:#f92672">&lt;groupId&gt;</span>com.fasterxml.jackson.core<span style="color:#f92672">&lt;/groupId&gt;</span>
    <span style="color:#f92672">&lt;artifactId&gt;</span>jackson-core<span style="color:#f92672">&lt;/artifactId&gt;</span>
    <span style="color:#f92672">&lt;version&gt;</span>2.9.0<span style="color:#f92672">&lt;/version&gt;</span>
<span style="color:#f92672">&lt;/dependency&gt;</span>
<span style="color:#f92672">&lt;dependency&gt;</span>
    <span style="color:#f92672">&lt;groupId&gt;</span>com.fasterxml.jackson.core<span style="color:#f92672">&lt;/groupId&gt;</span>
    <span style="color:#f92672">&lt;artifactId&gt;</span>jackson-annotations<span style="color:#f92672">&lt;/artifactId&gt;</span>
    <span style="color:#f92672">&lt;version&gt;</span>2.9.0<span style="color:#f92672">&lt;/version&gt;</span>
<span style="color:#f92672">&lt;/dependency&gt;</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// 页面加载
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#66d9ef">function</span>(){
    <span style="color:#75715e">// 绑定点击事件
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#btn&#34;</span>).<span style="color:#a6e22e">click</span>(<span style="color:#66d9ef">function</span>(){
        <span style="color:#a6e22e">$</span>.<span style="color:#a6e22e">ajax</span>({
            <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;user/testJson&#34;</span>, 
            <span style="color:#a6e22e">contentType</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;application/json;charset=UTF-8&#34;</span>,
            <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;{&#34;addressName&#34;:&#34;aa&#34;,&#34;addressNum&#34;:100}&#39;</span>, 
            <span style="color:#a6e22e">dataType</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;json&#34;</span>,
            <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;post&#34;</span>, 
            <span style="color:#a6e22e">success</span><span style="color:#f92672">:</span><span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">data</span>){
                <span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">data</span>); 
                <span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">addressName</span>);
            }
        });
    });
});
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/*
</span><span style="color:#75715e">	获取请求体的数据
</span><span style="color:#75715e">	@param body
</span><span style="color:#75715e">*/</span>
<span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/testJson&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testJson</span><span style="color:#f92672">(</span><span style="color:#a6e22e">@RequestBody</span> Address address<span style="color:#f92672">)</span> <span style="color:#f92672">{</span> 
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>address<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span>
</code></pre></div><ol start="4">
<li>
<p>使用@ResponseBody注解把JavaBean对象转换成json字符串，直接响应</p>
<p>要求方法需要返回JavaBean的对象</p>
</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// 页面加载
</span><span style="color:#75715e"></span><span style="color:#a6e22e">$</span>(<span style="color:#66d9ef">function</span>(){
    <span style="color:#75715e">// 绑定点击事件
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#btn&#34;</span>).<span style="color:#a6e22e">click</span>(<span style="color:#66d9ef">function</span>(){
        <span style="color:#a6e22e">$</span>.<span style="color:#a6e22e">ajax</span>({
            <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;user/testJson&#34;</span>, 
            <span style="color:#a6e22e">contentType</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;application/json;charset=UTF-8&#34;</span>,
            <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;{&#34;addressName&#34;:&#34;哈哈&#34;,&#34;addressNum&#34;:100}&#39;</span>,
            <span style="color:#a6e22e">dataType</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;json&#34;</span>, 
            <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;post&#34;</span>, 
            <span style="color:#a6e22e">success</span><span style="color:#f92672">:</span><span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">data</span>){
                <span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">data</span>); 
                <span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">addressName</span>);
            }
        });
    });
});
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/testJson&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#a6e22e">@ResponseBody</span> Address <span style="color:#a6e22e">testJson</span><span style="color:#f92672">(</span><span style="color:#a6e22e">@RequestBody</span> Address address<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>address<span style="color:#f92672">);</span>
    address<span style="color:#f92672">.</span><span style="color:#a6e22e">setAddressName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;上海&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#66d9ef">return</span> address<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><h4 id="22-springmvc实现文件上传">2.2 SpringMVC实现文件上传</h4>
<h5 id="必要前提">必要前提</h5>
<ul>
<li>form表单的enctype取值必须是：multipart/form-data(默认值是：application/x-www-form-urlencoded)enctype是表单请求正文的类型</li>
<li>method 属性取值必须是Post</li>
<li>提供一个文件选择域&lt;input type=&quot;file&rdquo;/&gt;</li>
</ul>
<h5 id="借助第三方组件-实现文件上传">借助第三方组件 实现文件上传</h5>
<p>使用 Commons-fileupload 组件实现文件上传，需要导入该组件相应的支撑jar包：Commmons-fileupload 和 commons-io。commons-io 不属于文件上传组件的开发jar文件，但Commons-fileupload组件从1.1版本开始，它工作时需要 commons-io 包的支持。</p>
<h5 id="springmvc文件上传">springmvc文件上传</h5>
<p>传统方式的文件上传，指的是我们上传的文件和访问的应用存在于同一台服务器上。并且上传完成之后，浏览器可能跳转！</p>
<ol>
<li>导入依赖：</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;dependency&gt;</span>
    <span style="color:#f92672">&lt;groupId&gt;</span>commons-fileupload<span style="color:#f92672">&lt;/groupId&gt;</span>
    <span style="color:#f92672">&lt;artifactId&gt;</span>commons-fileupload<span style="color:#f92672">&lt;/artifactId&gt;</span>
    <span style="color:#f92672">&lt;version&gt;</span>1.3.1<span style="color:#f92672">&lt;/version&gt;</span>
<span style="color:#f92672">&lt;/dependency&gt;</span>
<span style="color:#f92672">&lt;dependency&gt;</span>
    <span style="color:#f92672">&lt;groupId&gt;</span>commons-io<span style="color:#f92672">&lt;/groupId&gt;</span>
    <span style="color:#f92672">&lt;artifactId&gt;</span>commons-io<span style="color:#f92672">&lt;/artifactId&gt;</span>
    <span style="color:#f92672">&lt;version&gt;</span>2.4<span style="color:#f92672">&lt;/version&gt;</span>
<span style="color:#f92672">&lt;/dependency&gt;</span>
</code></pre></div><ol start="2">
<li>编写文件上传的JSP页面</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">h3</span>&gt;文件上传&lt;/<span style="color:#f92672">h3</span>&gt;
&lt;<span style="color:#f92672">form</span> <span style="color:#a6e22e">action</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;user/fileupload&#34;</span> <span style="color:#a6e22e">method</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post&#34;</span> <span style="color:#a6e22e">enctype</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;multipart/form-data&#34;</span>&gt;
    选择文件：&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;file&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;upload&#34;</span>/&gt;&lt;<span style="color:#f92672">br</span>/&gt;
    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;submit&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;上传文件&#34;</span>/&gt;
&lt;/<span style="color:#f92672">form</span>&gt;
</code></pre></div><ol start="3">
<li>SpringMVC传统方式文件上传</li>
</ol>
<p>SpringMVC框架提供了MultipartFile对象，该对象表示上传的文件，要求变量名称必须和表单ﬁle标签的name属性名称相同。代码如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/*
</span><span style="color:#75715e">	SpringMVC方式的文件上传
</span><span style="color:#75715e">	@param request
</span><span style="color:#75715e">	@return
</span><span style="color:#75715e">	@throws Exception
</span><span style="color:#75715e">*/</span>
<span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span>value<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/fileupload2&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">fileupload2</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span>MultipartFile upload<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;SpringMVC方式的文件上传...&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#75715e">// 先获取到要上传的文件目录
</span><span style="color:#75715e"></span>    String path <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span><span style="color:#a6e22e">getSession</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getServletContext</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getRealPath</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/uploads&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#75715e">// 创建File对象，一会向该路径下上传文件
</span><span style="color:#75715e"></span>    File file <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span>path<span style="color:#f92672">);</span>
    <span style="color:#75715e">// 判断路径是否存在，如果不存在，创建该路径
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span><span style="color:#f92672">(!</span>file<span style="color:#f92672">.</span><span style="color:#a6e22e">exists</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span> 
        file<span style="color:#f92672">.</span><span style="color:#a6e22e">mkdirs</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
    <span style="color:#75715e">// 获取到上传文件的名称
</span><span style="color:#75715e"></span>    String filename <span style="color:#f92672">=</span> upload<span style="color:#f92672">.</span><span style="color:#a6e22e">getOriginalFilename</span><span style="color:#f92672">();</span>
    <span style="color:#75715e">// 生成随机字符串
</span><span style="color:#75715e"></span>    String uuid <span style="color:#f92672">=</span> UUID<span style="color:#f92672">.</span><span style="color:#a6e22e">randomUUID</span><span style="color:#f92672">().</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">().</span><span style="color:#a6e22e">replaceAll</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;-&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">).</span><span style="color:#a6e22e">toUpperCase</span><span style="color:#f92672">();</span>
    <span style="color:#75715e">// 把文件的名称唯一化
</span><span style="color:#75715e"></span>    filename <span style="color:#f92672">=</span> uuid<span style="color:#f92672">+</span><span style="color:#e6db74">&#34;_&#34;</span><span style="color:#f92672">+</span>filename<span style="color:#f92672">;</span>
    <span style="color:#75715e">// 上传文件
</span><span style="color:#75715e"></span>    upload<span style="color:#f92672">.</span><span style="color:#a6e22e">transferTo</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span>file<span style="color:#f92672">,</span>filename<span style="color:#f92672">));</span> 
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><ol start="4">
<li>配置文件解析器对象</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;!-- 配置文件解析器对象，要求id名称必须是multipartResolver --&gt;</span>
<span style="color:#f92672">&lt;bean</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;multipartResolver&#34;</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;org.springframework.web.multipart.commons.CommonsMultipartResolver&#34;</span><span style="color:#f92672">&gt;</span>
    <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;maxUploadSize&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;10485760&#34;</span><span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;/bean&gt;</span>
</code></pre></div><h4 id="23-springmvc的异常处理">2.3 SpringMVC的异常处理</h4>
<h5 id="异常处理思路">异常处理思路</h5>
<p>​	Controller调用service，service调用dao，异常都是向上抛出的，最终由前端控制器DispatcherServlet找异常处理器进行异常的处理。当然，也可自定义异常处理器进行异常处理！</p>
<h5 id="springmvc的异常处理">SpringMVC的异常处理</h5>
<ol>
<li>自定义异常类</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.iNuo.exception<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SysException</span> <span style="color:#66d9ef">extends</span> Exception<span style="color:#f92672">{</span>

    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">long</span> serialVersionUID <span style="color:#f92672">=</span> 4055945147128016300L<span style="color:#f92672">;</span>

    <span style="color:#75715e">// 异常提示信息
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">private</span> String message<span style="color:#f92672">;</span> 
    
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getMessage</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> message<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setMessage</span><span style="color:#f92672">(</span>String message<span style="color:#f92672">)</span> <span style="color:#f92672">{</span> 
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">message</span> <span style="color:#f92672">=</span> message<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">SysException</span><span style="color:#f92672">(</span>String message<span style="color:#f92672">)</span> <span style="color:#f92672">{</span> 
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">message</span> <span style="color:#f92672">=</span> message<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><ol start="2">
<li>自定义异常处理器</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.iNuo.exception<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span>  javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.springframework.web.servlet.HandlerExceptionResolver<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span>  org.springframework.web.servlet.ModelAndView<span style="color:#f92672">;</span>

<span style="color:#75715e">/*
</span><span style="color:#75715e">	异常处理器
</span><span style="color:#75715e">	@author rt
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SysExceptionResolver</span> <span style="color:#66d9ef">implements</span> HandlerExceptionResolver<span style="color:#f92672">{</span>


    <span style="color:#75715e">//跳转到具体的错误页面的方法
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span> ModelAndView <span style="color:#a6e22e">resolveException</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">,</span> Object handler<span style="color:#f92672">,</span>Exception ex<span style="color:#f92672">)</span> <span style="color:#f92672">{</span> 
        ex<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span> 
        SysException e <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        <span style="color:#75715e">// 获取到异常对象
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>ex <span style="color:#66d9ef">instanceof</span> SysException<span style="color:#f92672">)</span> <span style="color:#f92672">{</span> 
            e <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>SysException<span style="color:#f92672">)</span> ex<span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span><span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
            e <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SysException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;请联系管理员&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
        ModelAndView mv <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ModelAndView<span style="color:#f92672">();</span>
        <span style="color:#75715e">// 存入错误的提示信息
</span><span style="color:#75715e"></span>        mv<span style="color:#f92672">.</span><span style="color:#a6e22e">addObject</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;message&#34;</span><span style="color:#f92672">,</span> e<span style="color:#f92672">.</span><span style="color:#a6e22e">getMessage</span><span style="color:#f92672">());</span>
        <span style="color:#75715e">// 跳转的Jsp页面 
</span><span style="color:#75715e"></span>        mv<span style="color:#f92672">.</span><span style="color:#a6e22e">setViewName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;error&#34;</span><span style="color:#f92672">);</span> 
        <span style="color:#66d9ef">return</span> mv<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span>
</code></pre></div><ol start="3">
<li>配置异常处理器</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;!-- 配置异常处理器 --&gt;</span>
<span style="color:#f92672">&lt;bean</span>  <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;sysExceptionResolver&#34;</span>  <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;com.iNuo.exception.SysExceptionResolver&#34;</span><span style="color:#f92672">/&gt;</span>
</code></pre></div><ol start="4">
<li>模拟异常：</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/testException&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">testException</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> SysException <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> 10 <span style="color:#f92672">/</span> 0<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception ex<span style="color:#f92672">){</span>
        ex<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
        <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> SysException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;抛出自定义异常：出现错误了！&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>

<span style="color:#f92672">}</span>
</code></pre></div><h4 id="24-springmvc框架中的拦截器">2.4 SpringMVC框架中的拦截器</h4>
<h5 id="拦截器的概述">拦截器的概述</h5>
<ol>
<li>
<p>SpringMVC框架中的拦截器用于对处理器进行预处理和后处理的技术。</p>
</li>
<li>
<p>可以定义拦截器链，拦截器链就是将拦截器按着一定的顺序结成一条链，在访问被拦截的方法时，拦截器链中的拦截器会按着定义的顺序执行。</p>
</li>
<li>
<p>拦截器和过滤器的功能比较类似，有区别！</p>
<p>过滤器是Servlet规范的一部分，任何框架都可以使用过滤器技术。</p>
<p>拦截器是SpringMVC框架独有的。</p>
<p>过滤器在url-pattern配置了/*后，可以拦截任何资源。</p>
<p>拦截器只会对控制器中的方法进行拦截，不会拦截jsp，html，css，image，js..</p>
</li>
<li>
<p>拦截器也是AOP思想的一种实现方式</p>
</li>
<li>
<p>想要自定义拦截器，需要实现HandlerInterceptor接口。</p>
</li>
</ol>
<h5 id="handlerinterceptor接口中的方法">HandlerInterceptor接口中的方法</h5>
<ol>
<li>
<p>preHandle方法是controller方法执行前拦截的方法</p>
<p>可以使用request或者response跳转到指定的页面</p>
<p>return  true放行，执行下一个拦截器，如果没有拦截器，执行controller中的方法。</p>
<p>return  false不放行，不会执行controller中的方法。</p>
</li>
<li>
<p>postHandle是controller方法执行后执行的方法，在JSP视图执行前。</p>
<p>可以使用request或者response跳转到指定的页面</p>
<p>如果指定了跳转的页面，那么controller方法跳转的页面将不会显示。</p>
</li>
<li>
<p>afterCompletion方法是在JSP执行后执行</p>
<p>request或者response不能再跳转页面了</p>
</li>
</ol>
<h5 id="自定义拦截器步骤">自定义拦截器步骤</h5>
<ol>
<li>创建类，实现HandlerInterceptor接口，重写需要的方法</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.iNuo.demo1<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span>  javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span>  org.springframework.web.servlet.HandlerInterceptor<span style="color:#f92672">;</span>

<span style="color:#75715e">/*
</span><span style="color:#75715e">	自定义拦截器1
</span><span style="color:#75715e">	@author rt
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyInterceptor1</span> <span style="color:#66d9ef">implements</span> HandlerInterceptor<span style="color:#f92672">{</span>

    <span style="color:#75715e">/*
</span><span style="color:#75715e">	controller方法执行前，进行拦截的方法
</span><span style="color:#75715e">	return true放行
</span><span style="color:#75715e">	return false拦截
</span><span style="color:#75715e">	可以使用转发或者重定向直接跳转到指定的页面。
</span><span style="color:#75715e">	*/</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">preHandle</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">,</span> Object handler<span style="color:#f92672">)</span><span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;拦截器执行了...&#34;</span><span style="color:#f92672">);</span> 
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span>
</code></pre></div><ol start="2">
<li>在springmvc.xml中配置拦截器类</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;!-- 配置拦截器 --&gt;</span>
<span style="color:#f92672">&lt;mvc:interceptors&gt;</span>
    <span style="color:#f92672">&lt;mvc:interceptor&gt;</span>
        <span style="color:#75715e">&lt;!-- 哪些方法进行拦截 --&gt;</span>
        <span style="color:#f92672">&lt;mvc:mapping</span> <span style="color:#a6e22e">path=</span><span style="color:#e6db74">&#34;/user/&#34;</span><span style="color:#f92672">/&gt;</span>
        <span style="color:#75715e">&lt;!-- 哪些方法不进行拦截
</span><span style="color:#75715e">&lt;mvc:exclude-mapping path=&#34;&#34;/&gt;
</span><span style="color:#75715e">--&gt;</span>
        <span style="color:#75715e">&lt;!-- 注册拦截器对象 --&gt;</span>
        <span style="color:#f92672">&lt;bean</span>  <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;com.iNuo.demo1.MyInterceptor1&#34;</span><span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;/mvc:interceptor&gt;</span>
<span style="color:#f92672">&lt;/mvc:interceptors&gt;</span>
</code></pre></div><p>配置多个拦截器</p>
<ol>
<li>
<p>再编写一个拦截器的类</p>
</li>
<li>
<p>配置2个拦截器</p>
</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;!-- 配置拦截器 --&gt;</span>
<span style="color:#f92672">&lt;mvc:interceptors&gt;</span>
    <span style="color:#f92672">&lt;mvc:interceptor&gt;</span>
        <span style="color:#75715e">&lt;!-- 哪些方法进行拦截 --&gt;</span>
        <span style="color:#f92672">&lt;mvc:mapping</span> <span style="color:#a6e22e">path=</span><span style="color:#e6db74">&#34;/user/&#34;</span><span style="color:#f92672">/&gt;</span>
        <span style="color:#75715e">&lt;!-- 哪些方法不进行拦截
</span><span style="color:#75715e">&lt;mvc:exclude-mapping path=&#34;&#34;/&gt;
</span><span style="color:#75715e">--&gt;</span>
        <span style="color:#75715e">&lt;!-- 注册拦截器对象 --&gt;</span>
        <span style="color:#f92672">&lt;bean</span>  <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;com.iNuo.demo1.MyInterceptor1&#34;</span><span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;/mvc:interceptor&gt;</span>

    <span style="color:#f92672">&lt;mvc:interceptor&gt;</span>
        <span style="color:#75715e">&lt;!-- 哪些方法进行拦截 --&gt;</span>
        <span style="color:#f92672">&lt;mvc:mapping</span> <span style="color:#a6e22e">path=</span><span style="color:#e6db74">&#34;/&#34;</span><span style="color:#f92672">/&gt;</span>
        <span style="color:#75715e">&lt;!-- 注册拦截器对象 --&gt;</span>
        <span style="color:#f92672">&lt;bean</span>  <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;com.iNuo.demo1.MyInterceptor2&#34;</span><span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;/mvc:interceptor&gt;</span>
<span style="color:#f92672">&lt;/mvc:interceptors&gt;</span>
</code></pre></div><ol start="3">
<li>编写Controller</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Controller</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">IntercepterController</span><span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/testIntercepter&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">testIntercepter</span><span style="color:#f92672">(){</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;testIntercepter&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h5 id="拦截器案例登录验证">拦截器案例：登录验证</h5>
<p>编写登录界面login.jsp</p>
<pre><code class="language-jsp" data-lang="jsp">&lt;html&gt;
&lt;body&gt;
&lt;form action=&quot;loginDo&quot; method=&quot;post&quot;&gt;
    用户名：&lt;input type=&quot;text&quot; name=&quot;userName&quot;&gt;&lt;br/&gt;
    密码：&lt;input type=&quot;password&quot; name=&quot;pwd&quot;&gt;&lt;br/&gt;
    &lt;input type=&quot;submit&quot; value=&quot;登录&quot;&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>编写控制器</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.iNuo.IntercepterProj<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@Controller</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">LoginController</span> <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/loginDao&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">loginDo</span><span style="color:#f92672">(</span>HttpSesion sesion<span style="color:#f92672">,</span>String userName<span style="color:#f92672">,</span>String pwd<span style="color:#f92672">){</span>
        <span style="color:#75715e">//判断登录是否成功
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>userName<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;admin&#34;</span><span style="color:#f92672">)&amp;&amp;</span>pwd<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;123&#34;</span><span style="color:#f92672">)){</span>
            <span style="color:#75715e">//登录成功
</span><span style="color:#75715e"></span>            sesion<span style="color:#f92672">.</span><span style="color:#a6e22e">setAttribute</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;userName&#34;</span><span style="color:#f92672">,</span>userName<span style="color:#f92672">);</span>
            <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;redirect:/main&#34;</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span><span style="color:#66d9ef">else</span><span style="color:#f92672">{</span>
            <span style="color:#75715e">//如果登录不成功，跳转到登录页继续登录
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;redirect:/login.jsp&#34;</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
    
    <span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/main&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">main</span><span style="color:#f92672">(){</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;main&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>创建拦截器</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.iNuo.IntercepterProj<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">LoginIntercepter</span> <span style="color:#66d9ef">implements</span> HandlerInterceptor <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">preHandle</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">,</span> Object handler<span style="color:#f92672">)</span><span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
        <span style="color:#75715e">//判断是否登录
</span><span style="color:#75715e"></span>        HttpSession session<span style="color:#f92672">=</span>request<span style="color:#f92672">.</span><span style="color:#a6e22e">getSession</span><span style="color:#f92672">();</span>
        <span style="color:#75715e">//已登录
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>session<span style="color:#f92672">.</span><span style="color:#a6e22e">getAttribute</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;userName&#34;</span><span style="color:#f92672">)!=</span><span style="color:#66d9ef">null</span><span style="color:#f92672">){</span>
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span><span style="color:#66d9ef">else</span><span style="color:#f92672">{</span>
            <span style="color:#75715e">//未登录
</span><span style="color:#75715e"></span>            request<span style="color:#f92672">.</span><span style="color:#a6e22e">getRequestDispatcher</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/login.jsp&#34;</span><span style="color:#f92672">).</span><span style="color:#a6e22e">forward</span><span style="color:#f92672">(</span>request<span style="color:#f92672">,</span>response<span style="color:#f92672">);</span>
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

</code></pre></div><p>在springmvc.xml中配置拦截器类</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;!-- 配置拦截器 --&gt;</span>
<span style="color:#f92672">&lt;mvc:interceptors&gt;</span>
    <span style="color:#f92672">&lt;mvc:interceptor&gt;</span>
        <span style="color:#75715e">&lt;!-- 哪些方法进行拦截 --&gt;</span>
        <span style="color:#f92672">&lt;mvc:mapping</span> <span style="color:#a6e22e">path=</span><span style="color:#e6db74">&#34;/**&#34;</span><span style="color:#f92672">/&gt;</span>
        <span style="color:#75715e">&lt;!-- 哪些方法不进行拦截--&gt;</span>
		<span style="color:#f92672">&lt;mvc:exclude-mapping</span> <span style="color:#a6e22e">path=</span><span style="color:#e6db74">&#34;/loginDo&#34;</span><span style="color:#f92672">/&gt;</span>

        <span style="color:#75715e">&lt;!-- 注册拦截器对象 --&gt;</span>
        <span style="color:#f92672">&lt;bean</span>  <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;com.iNuo.LoginIntercepter&#34;</span><span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;/mvc:interceptor&gt;</span>
<span style="color:#f92672">&lt;/mvc:interceptors&gt;</span>
</code></pre></div><hr>
<h3 id="第三章">第三章</h3>
<hr>
<h5 id="本章内容-2">本章内容</h5>
<ul>
<li>搭建整合环境</li>
<li>Spring框架代码的编写</li>
<li>Spring整合SpringMVC框架</li>
<li>Spring整合MyBatis框架</li>
</ul>
<hr>
<h4 id="31-搭建整合环境">3.1 搭建整合环境</h4>
<h5 id="搭建整合环境">搭建整合环境</h5>
<p>整合说明：SSM整合可以使用多种方式，选择XML + 注解的方式</p>
<p>整合的思路</p>
<ol>
<li>
<p>先搭建整合的环境</p>
</li>
<li>
<p>先把Spring的配置搭建完成</p>
</li>
<li>
<p>再使用Spring整合SpringMVC框架</p>
</li>
<li>
<p>最后使用Spring整合MyBatis框架</p>
</li>
</ol>
<h5 id="开始整合">开始整合</h5>
<p>第一步：创建数据库和表结构</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">create</span> <span style="color:#66d9ef">database</span> ssm; 
use ssm;
<span style="color:#66d9ef">create</span> <span style="color:#66d9ef">table</span> account(
    id int <span style="color:#66d9ef">primary</span> <span style="color:#66d9ef">key</span> auto_increment, 
    name varchar(<span style="color:#ae81ff">20</span>),
    money double
);
</code></pre></div><p>第二步：创建maven的工程</p>
<p>在pom.xml文件中引入坐标依赖</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;!-- 锁定版本 --&gt;</span>
<span style="color:#f92672">&lt;properties&gt;</span>
    <span style="color:#f92672">&lt;spring.version&gt;</span>5.0.2.RELEASE<span style="color:#f92672">&lt;/spring.version&gt;</span>
    <span style="color:#f92672">&lt;slf4j.version&gt;</span>1.6.6<span style="color:#f92672">&lt;/slf4j.version&gt;</span>
    <span style="color:#f92672">&lt;log4j.version&gt;</span>1.2.12<span style="color:#f92672">&lt;/log4j.version&gt;</span>
    <span style="color:#f92672">&lt;mysql.version&gt;</span>5.1.6<span style="color:#f92672">&lt;/mysql.version&gt;</span>
    <span style="color:#f92672">&lt;mybatis.version&gt;</span>3.4.5<span style="color:#f92672">&lt;/mybatis.version&gt;</span>
<span style="color:#f92672">&lt;/properties&gt;</span>

<span style="color:#f92672">&lt;dependencies&gt;</span>
    <span style="color:#75715e">&lt;!-- spring --&gt;</span>
    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>org.aspectj<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>aspectjweaver<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>1.6.8<span style="color:#f92672">&lt;/version&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>

    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>org.springframework<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>spring-aop<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>${spring.version}<span style="color:#f92672">&lt;/version&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>

    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>org.springframework<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>spring-context<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>${spring.version}<span style="color:#f92672">&lt;/version&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>

    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>org.springframework<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>spring-web<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>${spring.version}<span style="color:#f92672">&lt;/version&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>

    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>org.springframework<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>spring-webmvc<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>${spring.version}<span style="color:#f92672">&lt;/version&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>

    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>org.springframework<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>spring-test<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>${spring.version}<span style="color:#f92672">&lt;/version&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>

    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>org.springframework<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>spring-tx<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>${spring.version}<span style="color:#f92672">&lt;/version&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>

    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>org.springframework<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>spring-jdbc<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>${spring.version}<span style="color:#f92672">&lt;/version&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>

    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>junit<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>junit<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>4.12<span style="color:#f92672">&lt;/version&gt;</span>
        <span style="color:#f92672">&lt;scope&gt;</span>compile<span style="color:#f92672">&lt;/scope&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>

    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>mysql<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>mysql-connector-java<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>${mysql.version}<span style="color:#f92672">&lt;/version&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>

    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>javax.servlet<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>servlet-api<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>2.5<span style="color:#f92672">&lt;/version&gt;</span>
        <span style="color:#f92672">&lt;scope&gt;</span>provided<span style="color:#f92672">&lt;/scope&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>

    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>javax.servlet.jsp<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>jsp-api<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>2.0<span style="color:#f92672">&lt;/version&gt;</span>
        <span style="color:#f92672">&lt;scope&gt;</span>provided<span style="color:#f92672">&lt;/scope&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>

    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>jstl<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>jstl<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>1.2<span style="color:#f92672">&lt;/version&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>

    <span style="color:#75715e">&lt;!-- log start --&gt;</span>
    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>log4j<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>log4j<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>${log4j.version}<span style="color:#f92672">&lt;/version&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>

    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>org.slf4j<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>slf4j-api<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>${slf4j.version}<span style="color:#f92672">&lt;/version&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>

    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>org.slf4j<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>slf4j-log4j12<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>${slf4j.version}<span style="color:#f92672">&lt;/version&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>
    <span style="color:#75715e">&lt;!-- log end --&gt;</span>
    
    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>org.mybatis<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>mybatis<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>${mybatis.version}<span style="color:#f92672">&lt;/version&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>
    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>org.mybatis<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>mybatis-spring<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>1.3.0<span style="color:#f92672">&lt;/version&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>

    <span style="color:#f92672">&lt;dependency&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>c3p0<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>c3p0<span style="color:#f92672">&lt;/artifactId&gt;</span>
        <span style="color:#f92672">&lt;version&gt;</span>0.9.1.2<span style="color:#f92672">&lt;/version&gt;</span>
        <span style="color:#f92672">&lt;type&gt;</span>jar<span style="color:#f92672">&lt;/type&gt;</span>
        <span style="color:#f92672">&lt;scope&gt;</span>compile<span style="color:#f92672">&lt;/scope&gt;</span>
    <span style="color:#f92672">&lt;/dependency&gt;</span>

<span style="color:#f92672">&lt;/dependencies&gt;</span>

<span style="color:#f92672">&lt;build&gt;</span>
    <span style="color:#f92672">&lt;finalName&gt;</span>ssm<span style="color:#f92672">&lt;/finalName&gt;</span>
    <span style="color:#f92672">&lt;pluginManagement&gt;</span>
        <span style="color:#f92672">&lt;plugins&gt;</span>
            <span style="color:#f92672">&lt;plugin&gt;</span>
                <span style="color:#f92672">&lt;groupId&gt;</span>org.apache.maven.plugins<span style="color:#f92672">&lt;/groupId&gt;</span>
                <span style="color:#f92672">&lt;artifactId&gt;</span>maven-compiler-plugin<span style="color:#f92672">&lt;/artifactId&gt;</span>
                <span style="color:#f92672">&lt;version&gt;</span>3.2<span style="color:#f92672">&lt;/version&gt;</span>
                <span style="color:#f92672">&lt;configuration&gt;</span>
                    <span style="color:#f92672">&lt;source&gt;</span>1.8<span style="color:#f92672">&lt;/source&gt;</span>
                    <span style="color:#f92672">&lt;target&gt;</span>1.8<span style="color:#f92672">&lt;/target&gt;</span>
                    <span style="color:#f92672">&lt;encoding&gt;</span>UTF-8<span style="color:#f92672">&lt;/encoding&gt;</span>
                    <span style="color:#f92672">&lt;showWarnings&gt;</span>true<span style="color:#f92672">&lt;/showWarnings&gt;</span>
                <span style="color:#f92672">&lt;/configuration&gt;</span>
            <span style="color:#f92672">&lt;/plugin&gt;</span>
        <span style="color:#f92672">&lt;/plugins&gt;</span>
    <span style="color:#f92672">&lt;/pluginManagement&gt;</span>
<span style="color:#f92672">&lt;/build&gt;</span>
</code></pre></div><p>第三步：编写实体类</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.iNuo.pojo<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> java.io.Serializable<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Account</span> <span style="color:#66d9ef">implements</span> Serializable<span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">long</span> serialVersionUID <span style="color:#f92672">=</span> 7355810572012650248L<span style="color:#f92672">;</span> 
    <span style="color:#66d9ef">private</span> Integer id<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">private</span> String name<span style="color:#f92672">;</span> 
    <span style="color:#66d9ef">private</span> Double money<span style="color:#f92672">;</span>
    
    <span style="color:#66d9ef">public</span> Integer <span style="color:#a6e22e">getId</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> id<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setId</span><span style="color:#f92672">(</span>Integer id<span style="color:#f92672">)</span> <span style="color:#f92672">{</span> 
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">id</span> <span style="color:#f92672">=</span> id<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getName</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span> 
        <span style="color:#66d9ef">return</span> name<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setName</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">)</span> <span style="color:#f92672">{</span> 
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> Double <span style="color:#a6e22e">getMoney</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span> 
        <span style="color:#66d9ef">return</span> money<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setMoney</span><span style="color:#f92672">(</span>Double money<span style="color:#f92672">)</span> <span style="color:#f92672">{</span> 
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">money</span> <span style="color:#f92672">=</span> money<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>第四步：编写service接口</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.iNuo.service<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span> java.util.List<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> com.iNuo.pojo.Account<span style="color:#f92672">;</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">AccountService</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">saveAccount</span><span style="color:#f92672">(</span>Account account<span style="color:#f92672">);</span> 
    <span style="color:#66d9ef">public</span> List<span style="color:#f92672">&lt;</span>Account<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">findAll</span><span style="color:#f92672">();</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>第五步：编写dao接口</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.iNuo.dao<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span> java.util.List<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> com.iNou.pojo.Account<span style="color:#f92672">;</span> 
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">AccountDao</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">saveAccount</span><span style="color:#f92672">(</span>Account account<span style="color:#f92672">);</span> 
    <span style="color:#66d9ef">public</span> List<span style="color:#f92672">&lt;</span>Account<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">findAll</span><span style="color:#f92672">();</span>
<span style="color:#f92672">}</span>
</code></pre></div><h4 id="32-spring框架代码的编写">3.2 Spring框架代码的编写</h4>
<h5 id="搭建和测试spring的开发环境">搭建和测试Spring的开发环境</h5>
<p>第一步：创建applicationContext.xml的配置文件，编写具体的配置信息。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span style="color:#f92672">&lt;beans</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://www.springframework.org/schema/beans&#34;</span>
       <span style="color:#a6e22e">xmlns:xsi=</span><span style="color:#e6db74">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
       <span style="color:#a6e22e">xmlns:context=</span><span style="color:#e6db74">&#34;http://www.springframework.org/schema/context&#34;</span>
       <span style="color:#a6e22e">xmlns:aop=</span><span style="color:#e6db74">&#34;http://www.springframework.org/schema/aop&#34;</span>
       <span style="color:#a6e22e">xmlns:tx=</span><span style="color:#e6db74">&#34;http://www.springframework.org/schema/tx&#34;</span>
       <span style="color:#a6e22e">xsi:schemaLocation=</span><span style="color:#e6db74">&#34;http://www.springframework.org/schema/beans
</span><span style="color:#e6db74">                           http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context
</span><span style="color:#e6db74">                           http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop
</span><span style="color:#e6db74">						   http://www.springframework.org/schema/aop/spring-aop.xsd
</span><span style="color:#e6db74">						   http://www.springframework.org/schema/tx
</span><span style="color:#e6db74">                           http://www.springframework.org/schema/tx/spring-tx.xsd&#34;</span><span style="color:#f92672">&gt;</span>

    <span style="color:#75715e">&lt;!-- 开启注解扫描，要扫描的是service和dao层的注解，要忽略web层注解，因为web层让SpringMVC框架去管理 --&gt;</span>
    <span style="color:#f92672">&lt;context:component-scan</span>  <span style="color:#a6e22e">base-package=</span><span style="color:#e6db74">&#34;com.iNuo&#34;</span><span style="color:#f92672">&gt;</span>
        <span style="color:#75715e">&lt;!-- 配置要忽略的注解 --&gt;</span>
        <span style="color:#f92672">&lt;context:exclude-filter</span> <span style="color:#a6e22e">type=</span><span style="color:#e6db74">&#34;annotation&#34;</span> <span style="color:#a6e22e">expression=</span><span style="color:#e6db74">&#34;org.springframework.stereotype.Controller&#34;</span><span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;/context:component-scan&gt;</span>

<span style="color:#f92672">&lt;/beans&gt;</span>
</code></pre></div><p>第二步：编写service实现类</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.iNuo.service.impl<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span> java.util.List<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span>  org.springframework.stereotype.Service<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> com.iNuo.dao.AccountDao<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span> com.iNuo.pojo.Account<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> com.iNuo.service.AccountService<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@Service</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;accountService&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AccountServiceImpl</span> <span style="color:#66d9ef">implements</span> AccountService <span style="color:#f92672">{</span> 
    <span style="color:#a6e22e">@Autowired</span>
    <span style="color:#66d9ef">private</span> AccountDao account<span style="color:#f92672">;</span>
    
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">saveAccount</span><span style="color:#f92672">(</span>Account account<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> List<span style="color:#f92672">&lt;</span>Account<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">findAll</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;业务层：查询所有账户...&#34;</span><span style="color:#f92672">);</span> 
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span>
</code></pre></div><p>第三步：编写dao实现类</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Repository</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;accountDao&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AccountDaoImpl</span> <span style="color:#66d9ef">implements</span> AccountDao<span style="color:#f92672">{</span>
    
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">saveAccount</span><span style="color:#f92672">(</span>Account account<span style="color:#f92672">){</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;保存账户&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>第四步：编写测试方法，进行测试</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.iNuo.test<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> org.junit.Test<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span>  org.springframework.context.ApplicationContext<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.springframework.context.support.ClassPathXmlApplicationContext<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span> com.iNuo.service.AccountService<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ServiceTest</span> <span style="color:#f92672">{</span>

    <span style="color:#a6e22e">@Test</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run1</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span> 
        <span style="color:#75715e">// 创建spring容器
</span><span style="color:#75715e"></span>        ApplicationContext ac <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span>
            ClassPathXmlApplicationContext<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;classpath:applicationContext.xml&#34;</span><span style="color:#f92672">);</span> 
        <span style="color:#75715e">// 获取业务逻辑层对象
</span><span style="color:#75715e"></span>        AccountService as <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>AccountService<span style="color:#f92672">)</span> ac<span style="color:#f92672">.</span><span style="color:#a6e22e">getBean</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;accountService&#34;</span><span style="color:#f92672">);</span> 
        <span style="color:#75715e">// 调用方法
</span><span style="color:#75715e"></span>        as<span style="color:#f92672">.</span><span style="color:#a6e22e">findAll</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span>
</code></pre></div><h4 id="33-spring整合springmvc框架">3.3 Spring整合SpringMVC框架</h4>
<h5 id="搭建和测试springmvc的开发环境">搭建和测试SpringMVC的开发环境</h5>
<p>第一步：在web.xml中配置DispatcherServlet前端控制器</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;web-app</span> <span style="color:#a6e22e">xmlns:xsi=</span><span style="color:#e6db74">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
         <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://java.sun.com/xml/ns/javaee&#34;</span>
         <span style="color:#a6e22e">xsi:schemaLocation=</span><span style="color:#e6db74">&#34;http://java.sun.com/xml/ns/javaee
</span><span style="color:#e6db74">                             http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&#34;</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;WebApp_ID&#34;</span> <span style="color:#a6e22e">version=</span><span style="color:#e6db74">&#34;2.5&#34;</span><span style="color:#f92672">&gt;</span>
    <span style="color:#f92672">&lt;display-name&gt;</span>ssm_web<span style="color:#f92672">&lt;/display-name&gt;</span>
    <span style="color:#75715e">&lt;!-- 配置springmvc的核心控制器 --&gt;</span>
    <span style="color:#f92672">&lt;servlet&gt;</span>
        <span style="color:#f92672">&lt;servlet-name&gt;</span>springmvcDispatcherServlet<span style="color:#f92672">&lt;/servlet-name&gt;</span>
        <span style="color:#f92672">&lt;servlet-class&gt;</span>org.springframework.web.servlet.DispatcherServlet<span style="color:#f92672">&lt;/servlet-class&gt;</span>
        <span style="color:#75715e">&lt;!-- 配置初始化参数，用于读取springmvc的配置文件 --&gt;</span>
        <span style="color:#f92672">&lt;init-param&gt;</span>
            <span style="color:#f92672">&lt;param-name&gt;</span>contextConfigLocation<span style="color:#f92672">&lt;/param-name&gt;</span>
            <span style="color:#f92672">&lt;param-value&gt;</span>classpath:springmvc.xml<span style="color:#f92672">&lt;/param-value&gt;</span>
        <span style="color:#f92672">&lt;/init-param&gt;</span>
        <span style="color:#75715e">&lt;!-- 服务器启动的时候，让DispatcherServlet对象创建 --&gt;</span>
        <span style="color:#f92672">&lt;load-on-startup&gt;</span>1<span style="color:#f92672">&lt;/load-on-startup&gt;</span>
    <span style="color:#f92672">&lt;/servlet&gt;</span>
    <span style="color:#f92672">&lt;servlet-mapping&gt;</span>
        <span style="color:#f92672">&lt;servlet-name&gt;</span>dispatcherServlet<span style="color:#f92672">&lt;/servlet-name&gt;</span>
        <span style="color:#f92672">&lt;url-pattern&gt;</span>/<span style="color:#f92672">&lt;/url-pattern&gt;</span>
    <span style="color:#f92672">&lt;/servlet-mapping&gt;</span>
<span style="color:#f92672">&lt;/web-app&gt;</span>
</code></pre></div><p>第二步：在web.xml中配置DispatcherServlet过滤器解决中文乱码注意在&lt;web-app 这里需要把头补全。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;web-app</span> <span style="color:#a6e22e">xmlns:xsi=</span><span style="color:#e6db74">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
         <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://java.sun.com/xml/ns/javaee&#34;</span>
         <span style="color:#a6e22e">xsi:schemaLocation=</span><span style="color:#e6db74">&#34;http://java.sun.com/xml/ns/javaee
</span><span style="color:#e6db74">                             http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&#34;</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;WebApp_ID&#34;</span> <span style="color:#a6e22e">version=</span><span style="color:#e6db74">&#34;2.5&#34;</span><span style="color:#f92672">&gt;</span>

    <span style="color:#75715e">&lt;!-- 配置解决中文乱码的过滤器 --&gt;</span>
    <span style="color:#f92672">&lt;filter&gt;</span>
        <span style="color:#f92672">&lt;filter-name&gt;</span>characterEncodingFilter<span style="color:#f92672">&lt;/filter-name&gt;</span>
        <span style="color:#f92672">&lt;filter-class&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span style="color:#f92672">&lt;/filter-class&gt;</span>
        <span style="color:#f92672">&lt;init-param&gt;</span>
            <span style="color:#f92672">&lt;param-name&gt;</span>encoding<span style="color:#f92672">&lt;/param-name&gt;</span>
            <span style="color:#f92672">&lt;param-value&gt;</span>UTF-8<span style="color:#f92672">&lt;/param-value&gt;</span>
        <span style="color:#f92672">&lt;/init-param&gt;</span>

    <span style="color:#f92672">&lt;/filter&gt;</span>
    <span style="color:#f92672">&lt;filter-mapping&gt;</span>
        <span style="color:#f92672">&lt;filter-name&gt;</span>characterEncodingFilter<span style="color:#f92672">&lt;/filter-name&gt;</span>
        <span style="color:#f92672">&lt;url-pattern&gt;</span>/<span style="color:#f92672">&lt;/url-pattern&gt;</span>
    <span style="color:#f92672">&lt;/filter-mapping&gt;</span>
<span style="color:#f92672">&lt;/web-app&gt;</span>
</code></pre></div><p>第三步：创建springmvc.xml的配置文件，编写配置文件</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span style="color:#f92672">&lt;beans</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://www.springframework.org/schema/beans&#34;</span>
       <span style="color:#a6e22e">xmlns:mvc=</span><span style="color:#e6db74">&#34;http://www.springframework.org/schema/mvc&#34;</span>
       <span style="color:#a6e22e">xmlns:context=</span><span style="color:#e6db74">&#34;http://www.springframework.org/schema/context&#34;</span>
       <span style="color:#a6e22e">xmlns:xsi=</span><span style="color:#e6db74">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span> 
       <span style="color:#a6e22e">xsi:schemaLocation=</span><span style="color:#e6db74">&#34;                              http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&#34;</span><span style="color:#f92672">&gt;</span>

    <span style="color:#75715e">&lt;!-- 扫描controller的注解，别的不扫描 --&gt;</span>
    <span style="color:#f92672">&lt;context:component-scan</span>  <span style="color:#a6e22e">base-package=</span><span style="color:#e6db74">&#34;com.iNuo&#34;</span><span style="color:#f92672">&gt;</span>
        <span style="color:#f92672">&lt;context:include-filter</span> <span style="color:#a6e22e">type=</span><span style="color:#e6db74">&#34;annotation&#34;</span> <span style="color:#a6e22e">expression=</span><span style="color:#e6db74">&#34;org.springframework.stereotype.Controller&#34;</span><span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;/context:component-scan&gt;</span>

    <span style="color:#75715e">&lt;!-- 配置视图解析器 --&gt;</span>
    <span style="color:#f92672">&lt;bean</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;viewResolver&#34;</span>
          <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;org.springframework.web.servlet.view.InternalResourceViewResolver&#34;</span><span style="color:#f92672">&gt;</span>
        <span style="color:#75715e">&lt;!-- JSP文件所在的目录 --&gt;</span>
        <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;prefix&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;/WEB-INF/pages/&#34;</span> <span style="color:#f92672">/&gt;</span>
        <span style="color:#75715e">&lt;!-- 文件的后缀名 --&gt;</span>
        <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;suffix&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;.jsp&#34;</span> <span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;/bean&gt;</span>

    <span style="color:#75715e">&lt;!-- 设置静态资源不过滤 --&gt;</span>
    <span style="color:#f92672">&lt;mvc:resources</span> <span style="color:#a6e22e">location=</span><span style="color:#e6db74">&#34;/css/&#34;</span> <span style="color:#a6e22e">mapping=</span><span style="color:#e6db74">&#34;/css/&#34;</span> <span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;mvc:resources</span> <span style="color:#a6e22e">location=</span><span style="color:#e6db74">&#34;/images/&#34;</span> <span style="color:#a6e22e">mapping=</span><span style="color:#e6db74">&#34;/images/&#34;</span> <span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;mvc:resources</span> <span style="color:#a6e22e">location=</span><span style="color:#e6db74">&#34;/js/&#34;</span> <span style="color:#a6e22e">mapping=</span><span style="color:#e6db74">&#34;/js/&#34;</span> <span style="color:#f92672">/&gt;</span>

    <span style="color:#75715e">&lt;!-- 开启对SpringMVC注解的支持 --&gt;</span>
    <span style="color:#f92672">&lt;mvc:annotation-driven</span> <span style="color:#f92672">/&gt;</span>

<span style="color:#f92672">&lt;/beans&gt;</span>
</code></pre></div><p>第四步：测试SpringMVC的框架搭建是否成功</p>
<p>​	编写index.jsp和success.jsp编写，超链接</p>
<pre><code class="language-jsp" data-lang="jsp">&lt;a href=&quot;account/findAll&quot;&gt;查询所有&lt;/a&gt;
</code></pre><p>​	创建AccountController类，编写方法，进行测试</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.iNuo.controller<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span>  org.springframework.stereotype.Controller<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span>   org.springframework.web.bind.annotation.RequestMapping<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@Controller</span>
<span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/account&#34;</span><span style="color:#f92672">)</span> 
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AccountController</span> <span style="color:#f92672">{</span>

    <span style="color:#75715e">/*
</span><span style="color:#75715e">	查询所有的数据
</span><span style="color:#75715e">	@return
</span><span style="color:#75715e">	*/</span>
    <span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/findAll&#34;</span><span style="color:#f92672">)</span> 
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">findAll</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;表现层：查询所有账户...&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span>
</code></pre></div><h5 id="spring整合springmvc的框架">Spring整合SpringMVC的框架</h5>
<p>目的：在controller中能成功的调用service对象中的方法。</p>
<p>在项目启动的时候，就去加载applicationContext.xml的配置文件，在web.xml中配置</p>
<p>ContextLoaderListener监听器（该监听器只能加载WEB-INF目录下的applicationContext.xml的配置文件）。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;!-- 配置Spring的监听器 --&gt;</span>
<span style="color:#f92672">&lt;listener&gt;</span>
    <span style="color:#f92672">&lt;listener-class&gt;</span>org.springframework.web.context.ContextLoaderListener<span style="color:#f92672">&lt;/listener-class&gt;</span>
<span style="color:#f92672">&lt;/listener&gt;</span>
<span style="color:#75715e">&lt;!-- 配置加载类路径的配置文件 --&gt;</span>
<span style="color:#f92672">&lt;context-param&gt;</span>
    <span style="color:#f92672">&lt;param-name&gt;</span>contextConfigLocation<span style="color:#f92672">&lt;/param-name&gt;</span>
    <span style="color:#f92672">&lt;param-value&gt;</span>classpath:applicationContext.xml<span style="color:#f92672">&lt;/param-value&gt;</span>
<span style="color:#f92672">&lt;/context-param&gt;</span>
</code></pre></div><p>在controller中注入service对象，调用service对象的方法进行测试</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.iNuo.controller<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> org.springframework.beans.factory.annotation.Autowired<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span>  org.springframework.stereotype.Controller<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.springframework.web.bind.annotation.RequestMapping<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span> com.iNuo.service.AccountService<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@Controller</span>
<span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/account&#34;</span><span style="color:#f92672">)</span> 
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AccountController</span> <span style="color:#f92672">{</span>

    <span style="color:#a6e22e">@Autowired</span>
    <span style="color:#66d9ef">private</span> AccountService accoutService<span style="color:#f92672">;</span>

    <span style="color:#75715e">/*
</span><span style="color:#75715e">	查询所有的数据
</span><span style="color:#75715e">	@return
</span><span style="color:#75715e">	*/</span>
    <span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/findAll&#34;</span><span style="color:#f92672">)</span> 
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">findAll</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;表现层：查询所有账户...&#34;</span><span style="color:#f92672">);</span>
        accoutService<span style="color:#f92672">.</span><span style="color:#a6e22e">findAll</span><span style="color:#f92672">();</span> 
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span>
</code></pre></div><h4 id="34-spring整合mybatis框架">3.4 Spring整合MyBatis框架</h4>
<h5 id="搭建和测试mybatis的环境">搭建和测试MyBatis的环境</h5>
<p>第一步：在web项目中编写SqlMapConfig.xml的配置文件，编写核心配置文件</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span style="color:#75715e">&lt;!DOCTYPE configuration PUBLIC &#34;-//mybatis.org//DTD Config 3.0//EN&#34; &#34;http://mybatis.org/dtd/mybatis-3-config.dtd&#34;&gt;</span>
<span style="color:#f92672">&lt;configuration&gt;</span>
    <span style="color:#f92672">&lt;environments</span> <span style="color:#a6e22e">default=</span><span style="color:#e6db74">&#34;mysql&#34;</span><span style="color:#f92672">&gt;</span>
        <span style="color:#f92672">&lt;environment</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;mysql&#34;</span><span style="color:#f92672">&gt;</span>
            <span style="color:#f92672">&lt;transactionManager</span> <span style="color:#a6e22e">type=</span><span style="color:#e6db74">&#34;JDBC&#34;</span><span style="color:#f92672">/&gt;</span>
            <span style="color:#f92672">&lt;dataSource</span> <span style="color:#a6e22e">type=</span><span style="color:#e6db74">&#34;POOLED&#34;</span><span style="color:#f92672">&gt;</span>
                <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;driver&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;com.mysql.jdbc.Driver&#34;</span><span style="color:#f92672">/&gt;</span>
                <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;url&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;jdbc:mysql:///ssm&#34;</span><span style="color:#f92672">/&gt;</span>
                <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;username&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;root&#34;</span><span style="color:#f92672">/&gt;</span>
                <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;password&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;123456&#34;</span><span style="color:#f92672">/&gt;</span>
            <span style="color:#f92672">&lt;/dataSource&gt;</span>
        <span style="color:#f92672">&lt;/environment&gt;</span>
    <span style="color:#f92672">&lt;/environments&gt;</span>

    <span style="color:#75715e">&lt;!-- 使用的是注解 --&gt;</span>
    <span style="color:#f92672">&lt;mappers&gt;</span>
        <span style="color:#75715e">&lt;!-- &lt;mapper class=&#34;com.iNuo.dao.AccountDao&#34;/&gt; --&gt;</span>
        <span style="color:#75715e">&lt;!-- 该包下所有的dao接口都可以使用 --&gt;</span>
        <span style="color:#f92672">&lt;package</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;com.iNuo.dao&#34;</span><span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;/mappers&gt;</span>
<span style="color:#f92672">&lt;/configuration&gt;</span>
</code></pre></div><p>第二步：在AccountDao接口的方法上添加注解，编写SQL语句</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.iNuo.dao<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span> java.util.List<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.apache.ibatis.annotations.Insert<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span>  org.apache.ibatis.annotations.Select<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> com.iNuo.pojo.Account<span style="color:#f92672">;</span> 

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">AccountDao</span> <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Insert</span><span style="color:#f92672">(</span>value<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;insert into account (name,money) values (#{name},#{money})&#34;</span><span style="color:#f92672">)</span> 
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">saveAccount</span><span style="color:#f92672">(</span>Account account<span style="color:#f92672">);</span>

    <span style="color:#a6e22e">@Select</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;select * from account&#34;</span><span style="color:#f92672">)</span> 
    <span style="color:#66d9ef">public</span> List<span style="color:#f92672">&lt;</span>Account<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">findAll</span><span style="color:#f92672">();</span>

<span style="color:#f92672">}</span>
</code></pre></div><p>第三步：编写测试的方法</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.iNuo.test<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> java.io.InputStream<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span> java.util.List<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.apache.ibatis.io.Resources<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span> org.apache.ibatis.session.SqlSession<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span>  org.apache.ibatis.session.SqlSessionFactory<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span> org.junit.Test<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span>  com.iNuo.dao.AccountDao<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span>  com.iNuo.pojo.Account<span style="color:#f92672">;</span>



<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Demo1</span> <span style="color:#f92672">{</span>

    <span style="color:#a6e22e">@Test</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run1</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>

        <span style="color:#75715e">// 加载配置文件
</span><span style="color:#75715e"></span>        InputStream inputStream <span style="color:#f92672">=</span> Resources<span style="color:#f92672">.</span><span style="color:#a6e22e">getResourceAsStream</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;SqlMapConfig.xml&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#75715e">// 创建工厂
</span><span style="color:#75715e"></span>        SqlSessionFactory factory <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SqlSessionFactoryBuilder<span style="color:#f92672">().</span><span style="color:#a6e22e">build</span><span style="color:#f92672">(</span>inputStream<span style="color:#f92672">);</span>
        <span style="color:#75715e">// 创建sqlSession对象
</span><span style="color:#75715e"></span>        SqlSession session <span style="color:#f92672">=</span> factory<span style="color:#f92672">.</span><span style="color:#a6e22e">openSession</span><span style="color:#f92672">();</span>
        <span style="color:#75715e">// 获取代理对象
</span><span style="color:#75715e"></span>        AccountDao dao <span style="color:#f92672">=</span> session<span style="color:#f92672">.</span><span style="color:#a6e22e">getMapper</span><span style="color:#f92672">(</span>AccountDao<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
        <span style="color:#75715e">// 调用查询的方法
</span><span style="color:#75715e"></span>        List<span style="color:#f92672">&lt;</span>Account<span style="color:#f92672">&gt;</span> list <span style="color:#f92672">=</span> dao<span style="color:#f92672">.</span><span style="color:#a6e22e">findAll</span><span style="color:#f92672">();</span> 
        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>Account account <span style="color:#f92672">:</span> list<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>account<span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
        <span style="color:#75715e">// 释放资源 
</span><span style="color:#75715e"></span>        session<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span> 
        inputStream<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Test</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run2</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span> 
        Account account <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Account<span style="color:#f92672">();</span>
        account<span style="color:#f92672">.</span><span style="color:#a6e22e">setName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;熊大&#34;</span><span style="color:#f92672">);</span>
        account<span style="color:#f92672">.</span><span style="color:#a6e22e">setMoney</span><span style="color:#f92672">(</span>400d<span style="color:#f92672">);</span>

        <span style="color:#75715e">// 加载配置文件
</span><span style="color:#75715e"></span>        InputStream inputStream <span style="color:#f92672">=</span> Resources<span style="color:#f92672">.</span><span style="color:#a6e22e">getResourceAsStream</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;SqlMapConfig.xml&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#75715e">// 创建工厂
</span><span style="color:#75715e"></span>        SqlSessionFactory factory <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SqlSessionFactoryBuilder<span style="color:#f92672">().</span><span style="color:#a6e22e">build</span><span style="color:#f92672">(</span>inputStream<span style="color:#f92672">);</span>
        <span style="color:#75715e">// 创建sqlSession对象
</span><span style="color:#75715e"></span>        SqlSession session <span style="color:#f92672">=</span> factory<span style="color:#f92672">.</span><span style="color:#a6e22e">openSession</span><span style="color:#f92672">();</span>
        <span style="color:#75715e">// 获取代理对象
</span><span style="color:#75715e"></span>        AccountDao dao <span style="color:#f92672">=</span> session<span style="color:#f92672">.</span><span style="color:#a6e22e">getMapper</span><span style="color:#f92672">(</span>AccountDao<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
        dao<span style="color:#f92672">.</span><span style="color:#a6e22e">saveAccount</span><span style="color:#f92672">(</span>account<span style="color:#f92672">);</span>
        <span style="color:#75715e">// 提交事务
</span><span style="color:#75715e"></span>        session<span style="color:#f92672">.</span><span style="color:#a6e22e">commit</span><span style="color:#f92672">();</span>
        <span style="color:#75715e">// 释放资源 
</span><span style="color:#75715e"></span>        session<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span> 
        inputStream<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h5 id="spring整合mybatis框架">Spring整合MyBatis框架</h5>
<p>第一步：把SqlMapConﬁg.xml配置文件中的内容配置到applicationContext.xml配置文件中</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;!-- 配置C3P0的连接池对象 --&gt;</span>
<span style="color:#f92672">&lt;bean</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;dataSource&#34;</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;org.springframework.jdbc.datasource.DriverManagerDataSource&#34;</span><span style="color:#f92672">&gt;</span>
    <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;driverClassName&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;com.mysql.jdbc.Driver&#34;</span> <span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;url&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;jdbc:mysql:///ssm&#34;</span> <span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;username&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;root&#34;</span> <span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;password&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;root&#34;</span> <span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;/bean&gt;</span>

<span style="color:#75715e">&lt;!-- 配置SqlSession的工厂 --&gt;</span>
<span style="color:#f92672">&lt;bean</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;sqlSessionFactory&#34;</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;org.mybatis.spring.SqlSessionFactoryBean&#34;</span><span style="color:#f92672">&gt;</span>
    <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;dataSource&#34;</span> <span style="color:#a6e22e">ref=</span><span style="color:#e6db74">&#34;dataSource&#34;</span> <span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;/bean&gt;</span>

<span style="color:#75715e">&lt;!-- 配置扫描dao的包 --&gt;</span>
<span style="color:#f92672">&lt;bean</span>  <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;mapperScanner&#34;</span>  <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;org.mybatis.spring.mapper.MapperScannerConfigurer&#34;</span><span style="color:#f92672">&gt;</span>
    <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;basePackage&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;com.iNuo.dao&#34;</span><span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;/bean&gt;</span>

</code></pre></div><p>第二步：在AccountDao接口中添加@Repository注解</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.iNuo.dao<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span> java.util.List<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span>  org.apache.ibatis.annotations.Insert<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span>  org.apache.ibatis.annotations.Select<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.springframework.stereotype.Repository<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span>  com.iNuo.pojo.Account<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@Repository</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">AccountDao</span> <span style="color:#f92672">{</span>

    <span style="color:#a6e22e">@Insert</span><span style="color:#f92672">(</span>value<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;insert into account (name,money) values (#{name},#{money})&#34;</span><span style="color:#f92672">)</span> 
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">saveAccount</span><span style="color:#f92672">(</span>Account account<span style="color:#f92672">);</span>

    <span style="color:#a6e22e">@Select</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;select * from account&#34;</span><span style="color:#f92672">)</span> 
    <span style="color:#66d9ef">public</span> List<span style="color:#f92672">&lt;</span>Account<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">findAll</span><span style="color:#f92672">();</span>

<span style="color:#f92672">}</span>
</code></pre></div><p>第三步：在service中注入dao对象</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.iNuo.service.impl<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span> java.util.List<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.springframework.beans.factory.annotation.Autowired<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span>  org.springframework.stereotype.Service<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span>  com.iNuo.dao.AccountDao<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span>  com.iNuo.pojo.Account<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span>  com.iNuo.service.AccountService<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@Service</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;accountService&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AccountServiceImpl</span> <span style="color:#66d9ef">implements</span> AccountService <span style="color:#f92672">{</span>

    <span style="color:#a6e22e">@Autowired</span>
    <span style="color:#66d9ef">private</span> AccountDao accountDao<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">saveAccount</span><span style="color:#f92672">(</span>Account account<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> List<span style="color:#f92672">&lt;</span>Account<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">findAll</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;业务层：查询所有账户...&#34;</span><span style="color:#f92672">);</span> 
        <span style="color:#66d9ef">return</span> accountDao<span style="color:#f92672">.</span><span style="color:#a6e22e">findAll</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span>
</code></pre></div><p>第四步：创建控制器，进行测试</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span>  com.iNuo.controller<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.util.List<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.springframework.beans.factory.annotation.Autowired<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span>  org.springframework.stereotype.Controller<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.springframework.web.bind.annotation.RequestMapping<span style="color:#f92672">;</span> 
<span style="color:#f92672">import</span>  com.iNuo.pojo.Account<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span>  com.iNuo.service.AccountService<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@Controller</span>
<span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/account&#34;</span><span style="color:#f92672">)</span> 
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AccountController</span> <span style="color:#f92672">{</span>

    <span style="color:#a6e22e">@Autowired</span>
    <span style="color:#66d9ef">private</span> AccountService accoutService<span style="color:#f92672">;</span>

    <span style="color:#75715e">/*
</span><span style="color:#75715e"> 	查询所有的数据
</span><span style="color:#75715e">     @return
</span><span style="color:#75715e">	*/</span>
    <span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/findAll&#34;</span><span style="color:#f92672">)</span> 
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">findAll</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;表现层：查询所有账户...&#34;</span><span style="color:#f92672">);</span>
        List<span style="color:#f92672">&lt;</span>Account<span style="color:#f92672">&gt;</span> list <span style="color:#f92672">=</span> accoutService<span style="color:#f92672">.</span><span style="color:#a6e22e">findAll</span><span style="color:#f92672">();</span> 
        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>Account account <span style="color:#f92672">:</span> list<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>account<span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span>
</code></pre></div><p>第五步：配置Spring的声明式事务管理</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;!--配置Spring框架声明式事务管理--&gt;</span>
<span style="color:#75715e">&lt;!--配置事务管理器--&gt;</span>
<span style="color:#f92672">&lt;bean</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;transactionManager&#34;</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;org.springframework.jdbc.datasource.DataSourceTransactionManager&#34;</span><span style="color:#f92672">&gt;</span>
    <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;dataSource&#34;</span> <span style="color:#a6e22e">ref=</span><span style="color:#e6db74">&#34;dataSource&#34;</span> <span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;/bean&gt;</span>

<span style="color:#75715e">&lt;!--配置事务通知--&gt;</span>
<span style="color:#f92672">&lt;tx:advice</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;txAdvice&#34;</span> <span style="color:#a6e22e">transaction-manager=</span><span style="color:#e6db74">&#34;transactionManager&#34;</span><span style="color:#f92672">&gt;</span>
    <span style="color:#f92672">&lt;tx:attributes&gt;</span>
        <span style="color:#f92672">&lt;tx:method</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;find&#34;</span> <span style="color:#a6e22e">read-only=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">/&gt;</span>
        <span style="color:#f92672">&lt;tx:method</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;&#34;</span> <span style="color:#a6e22e">isolation=</span><span style="color:#e6db74">&#34;DEFAULT&#34;</span><span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;/tx:attributes&gt;</span>
<span style="color:#f92672">&lt;/tx:advice&gt;</span>

<span style="color:#75715e">&lt;!--配置AOP增强--&gt;</span>
<span style="color:#f92672">&lt;aop:config&gt;</span>
    <span style="color:#f92672">&lt;aop:advisor</span> <span style="color:#a6e22e">advice-ref=</span><span style="color:#e6db74">&#34;txAdvice&#34;</span> <span style="color:#a6e22e">pointcut=</span><span style="color:#e6db74">&#34;execution( cn.xh.service.impl.ServiceImpl.(..))&#34;</span><span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;/aop:config&gt;</span>

</code></pre></div><p>第六步：测试</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/findAll&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">findAll</span><span style="color:#f92672">(</span>Model model<span style="color:#f92672">){</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;表现层查询所有账户！&#34;</span><span style="color:#f92672">);</span>
    model<span style="color:#f92672">.</span><span style="color:#a6e22e">addAttribute</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;list&#34;</span><span style="color:#f92672">,</span>accountService<span style="color:#f92672">.</span><span style="color:#a6e22e">findAll</span><span style="color:#f92672">());</span>

    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>success.jsp</p>
<pre><code class="language-jsp" data-lang="jsp">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; isELIgnored=&quot;false&quot; %&gt;
&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Title&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;

        &lt;h3&gt;查询所有的帐户&lt;/h3&gt;

        &lt;c:forEach items=&quot;${success}&quot; var=&quot;account&quot;&gt;
            ${account.name}
        &lt;/c:forEach&gt;

    &lt;/body&gt;
&lt;/html&gt;
</code></pre></div>
  
</article></main>
<footer class="footer">
  <span>&copy; 2021 <a href="https://xshi000.github.io/">及时当勉励，岁月不待人！@iNuo</a></span>
  <span>&middot;</span>
  <span>Powered by <a href="https://gohugo.io/" rel="noopener" target="_blank">Hugo️️</a>️</span>
  <span>&middot;</span>
  <span>Theme️ <a href="https://github.com/nanxiaobei/hugo-paper" rel="noopener" target="_blank">Paper</a></span>
</footer>
<script src="https://xshi000.github.io/highlight.min.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>
</body>
</html>

